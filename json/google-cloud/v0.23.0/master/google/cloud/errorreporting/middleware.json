{"id":"google/cloud/errorreporting/middleware","name":"Middleware","title":["Google","Cloud","ErrorReporting","Middleware"],"description":"<p>Middleware</p>\n\n<p>Google::Cloud::ErrorReporting::Middleware defines a Rack Middleware\nthat can automatically catch upstream exceptions and report them\nto Stackdriver Error Reporting.</p>","source":"google-cloud-error_reporting/lib/google/cloud/error_reporting/middleware.rb#L31","resources":[],"examples":[],"methods":[{"id":"error_reporting-instance","type":"instance","name":"error_reporting","title":["Google","Cloud","ErrorReporting","Middleware#error_reporting"],"description":"<p>Returns the value of attribute error_reporting</p>","source":"google-cloud-error_reporting/lib/google/cloud/error_reporting/middleware.rb#L32","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"ignore_classes-instance","type":"instance","name":"ignore_classes","title":["Google","Cloud","ErrorReporting","Middleware#ignore_classes"],"description":"<p>Returns the value of attribute ignore_classes</p>","source":"google-cloud-error_reporting/lib/google/cloud/error_reporting/middleware.rb#L32","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"project_id-instance","type":"instance","name":"project_id","title":["Google","Cloud","ErrorReporting","Middleware#project_id"],"description":"<p>Returns the value of attribute project_id</p>","source":"google-cloud-error_reporting/lib/google/cloud/error_reporting/middleware.rb#L32","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"service_name-instance","type":"instance","name":"service_name","title":["Google","Cloud","ErrorReporting","Middleware#service_name"],"description":"<p>Returns the value of attribute service_name</p>","source":"google-cloud-error_reporting/lib/google/cloud/error_reporting/middleware.rb#L32","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"service_version-instance","type":"instance","name":"service_version","title":["Google","Cloud","ErrorReporting","Middleware#service_version"],"description":"<p>Returns the value of attribute service_version</p>","source":"google-cloud-error_reporting/lib/google/cloud/error_reporting/middleware.rb#L32","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"initialize-constructor","type":"constructor","name":"initialize","title":["Google","Cloud","ErrorReporting","Middleware#initialize"],"description":"<p>Construct a new instance of Middleware</p>","source":"google-cloud-error_reporting/lib/google/cloud/error_reporting/middleware.rb#L56","resources":[],"examples":[],"params":[{"name":"app","types":["Rack Application"],"description":"The Rack application","optional":false,"nullable":false},{"name":"error_reporting","types":["Google::Cloud::ErrorReporting::V1beta1::ReportErrorsServiceApi"],"description":"A ErrorReporting::V1beta1::ReportErrorsServiceApi\nobject to for reporting exceptions","optional":true,"default":"V1beta1::ReportErrorsServiceApi.new","nullable":false},{"name":"project_id","types":["String"],"description":"Name of GCP project. Default to\nENV[“ERROR_REPORTING_PROJECT”] then ENV[“GOOGLE_CLOUD_PROJECT”].\nAutomatically discovered if on GAE","optional":true,"default":"nil","nullable":true},{"name":"service_name","types":["String"],"description":"Name of the service. Default to\nENV[“ERROR_REPORTING_SERVICE”] then “ruby”. Automatically discovered\nif on GAE","optional":true,"default":"nil","nullable":true},{"name":"service_version","types":["String"],"description":"Version of the service. Optional.\nENV[“ERROR_REPORTING_VERSION”]. Automatically discovered if on GAE","optional":true,"default":"nil","nullable":true},{"name":"ignore_classes","types":["Array<Class>"],"description":"A single or an array of Exception\nclasses to ignore","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/errorreporting/middleware\">Google::Cloud::ErrorReporting::Middleware</a>"],"description":"A new instance of\nMiddleware"}]},{"id":"call-instance","type":"instance","name":"call","title":["Google","Cloud","ErrorReporting","Middleware#call"],"description":"<p>Implements the mandatory Rack Middleware call method.</p>\n\n<p>Catch all Exceptions from upstream and report them to Stackdriver\nError Reporting. Unless the exception’s class is defined to be ignored\nby this Middleware.</p>","source":"google-cloud-error_reporting/lib/google/cloud/error_reporting/middleware.rb#L89","resources":[],"examples":[],"params":[{"name":"env","types":["Hash"],"description":"Rack environment hash","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"report_exception-instance","type":"instance","name":"report_exception","title":["Google","Cloud","ErrorReporting","Middleware#report_exception"],"description":"<p>Report an given exception to Stackdriver Error Reporting.</p>\n\n<p>While it reports most of the exceptions. Certain Rails exceptions that\nmaps to a HTTP status code less than 500 will be treated as not the\napp fault and ignored.</p>","source":"google-cloud-error_reporting/lib/google/cloud/error_reporting/middleware.rb#L116","resources":[],"examples":[],"params":[{"name":"env","types":["Hash"],"description":"Rack environment hash","optional":false,"nullable":false},{"name":"exception","types":["Exception"],"description":"The Ruby exception to report.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"build_error_event_from_exception-instance","type":"instance","name":"build_error_event_from_exception","title":["Google","Cloud","ErrorReporting","Middleware#build_error_event_from_exception"],"description":"<p>Creates a GRPC ErrorEvent based on the exception. Fill in the\nHttpRequestContext section of the ErrorEvent based on the HTTP Request\nheaders.</p>\n\n<p>When used in Rails environment. It replies on\nActionDispatch::ExceptionWrapper class to derive a HTTP status code\nbased on the exception’s class.</p>","source":"google-cloud-error_reporting/lib/google/cloud/error_reporting/middleware.rb#L148","resources":[],"examples":[],"params":[{"name":"env","types":["Hash"],"description":"Rack environment hash","optional":false,"nullable":false},{"name":"exception","types":["Exception"],"description":"Exception to convert from","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/devtools/clouderrorreporting/v1beta1/reportederrorevent\">Google::Devtools::Clouderrorreporting::V1beta1::ReportedErrorEvent</a>"],"description":"The gRPC ReportedErrorEvent object that’s based\non given exception"}]},{"id":"full_project_id-instance","type":"instance","name":"full_project_id","title":["Google","Cloud","ErrorReporting","Middleware#full_project_id"],"description":"<p>Build full ReportErrorsServiceApi project_path from project_id, which\nis in “projects/#<a data-custom-type=\"google/cloud/errorreporting/middleware\" data-method=\"project_id-instance\">project_id</a>” format.</p>","source":"google-cloud-error_reporting/lib/google/cloud/error_reporting/middleware.rb#L177","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"fully qualified project id in\n“projects/#<a data-custom-type=\"google/cloud/errorreporting/middleware\" data-method=\"project_id-instance\">project_id</a>” format"}]}]}