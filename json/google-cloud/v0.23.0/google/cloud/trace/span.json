{"id":"google/cloud/trace/span","name":"Span","title":["Google","Cloud","Trace","Span"],"description":"<p>Span represents a span in a trace record. Spans are contained in\na trace and arranged in a forest. That is, each span may be a root span\nor have a parent span, and may have zero or more children.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L27","resources":[],"examples":[],"methods":[{"id":"trace-instance","type":"instance","name":"trace","title":["Google","Cloud","Trace","Span#trace"],"description":"<p>The Trace object containing this span.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L33","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/trace/tracerecord\">Google::Cloud::Trace::TraceRecord</a>"],"description":""}]},{"id":"parent-instance","type":"instance","name":"parent","title":["Google","Cloud","Trace","Span#parent"],"description":"<p>The TraceSpan object representing this span’s parent, or <code>nil</code> if\nthis span is a root span.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L41","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/trace/span\">Google::Cloud::Trace::Span</a>","nil"],"description":""}]},{"id":"span_id-instance","type":"instance","name":"span_id","title":["Google","Cloud","Trace","Span#span_id"],"description":"<p>The numeric ID of this span.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L48","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Integer"],"description":""}]},{"id":"parent_span_id-instance","type":"instance","name":"parent_span_id","title":["Google","Cloud","Trace","Span#parent_span_id"],"description":"<p>The ID of the parent span, as an integer that may be zero if this\nis a true root span.</p>\n\n<p>Note that it is possible for a span to be “orphaned”, that is, to be\na root span with a nonzero parent ID, indicating that parent has not\n(yet) been written. In that case, <code>parent</code> will return nil, but\n<code>parent_span_id</code> will have a value.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L61","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Integer"],"description":""}]},{"id":"kind-instance","type":"instance","name":"kind","title":["Google","Cloud","Trace","Span#kind"],"description":"<p>The kind of this span.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L68","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/trace/spankind\">Google::Cloud::Trace::SpanKind</a>"],"description":""}]},{"id":"kind=-instance","type":"instance","name":"kind=","title":["Google","Cloud","Trace","Span#kind="],"description":"<p>The kind of this span.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L68","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/trace/spankind\">Google::Cloud::Trace::SpanKind</a>"],"description":""}]},{"id":"name-instance","type":"instance","name":"name","title":["Google","Cloud","Trace","Span#name"],"description":"<p>The name of this span.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L75","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":""}]},{"id":"name=-instance","type":"instance","name":"name=","title":["Google","Cloud","Trace","Span#name="],"description":"<p>The name of this span.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L75","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":""}]},{"id":"start_time-instance","type":"instance","name":"start_time","title":["Google","Cloud","Trace","Span#start_time"],"description":"<p>The starting timestamp of this span in UTC, or <code>nil</code> if the\nstarting timestamp has not yet been populated.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L83","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Time","nil"],"description":""}]},{"id":"start_time=-instance","type":"instance","name":"start_time=","title":["Google","Cloud","Trace","Span#start_time="],"description":"<p>The starting timestamp of this span in UTC, or <code>nil</code> if the\nstarting timestamp has not yet been populated.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L83","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Time","nil"],"description":""}]},{"id":"end_time-instance","type":"instance","name":"end_time","title":["Google","Cloud","Trace","Span#end_time"],"description":"<p>The ending timestamp of this span in UTC, or <code>nil</code> if the\nending timestamp has not yet been populated.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L91","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Time","nil"],"description":""}]},{"id":"end_time=-instance","type":"instance","name":"end_time=","title":["Google","Cloud","Trace","Span#end_time="],"description":"<p>The ending timestamp of this span in UTC, or <code>nil</code> if the\nending timestamp has not yet been populated.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L91","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Time","nil"],"description":""}]},{"id":"labels-instance","type":"instance","name":"labels","title":["Google","Cloud","Trace","Span#labels"],"description":"<p>The properties of this span.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L98","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Hash{String =&gt; String}"],"description":""}]},{"id":"eql?-instance","type":"instance","name":"eql?","title":["Google","Cloud","Trace","Span#eql?"],"description":"<p>Standard value equality check for this object.</p>\n\n<p>rubocop:disable Metrics/AbcSize</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L126","resources":[],"examples":[],"params":[{"name":"other","types":["Object"],"description":"","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"from_grpc-class","type":"class","name":"from_grpc","title":["Google","Cloud","Trace","Span.from_grpc"],"description":"<p>Create a new Span object from a TraceSpan protobuf and insert it\ninto the given trace.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L150","resources":[],"examples":[],"params":[{"name":"span_proto","types":["Google::Devtools::Cloudtrace::V1::TraceSpan"],"description":"The\nspan protobuf from the V1 gRPC Trace API.","optional":false,"nullable":false},{"name":"trace","types":["Google::Cloud::Trace::TraceRecord"],"description":"The trace object\nto contain the span.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/trace/span\">Google::Cloud::Trace::Span</a>"],"description":"A corresponding Span object."}]},{"id":"to_grpc-instance","type":"instance","name":"to_grpc","title":["Google","Cloud","Trace","Span#to_grpc"],"description":"<p>Convert this Span object to an equivalent TraceSpan protobuf suitable\nfor the V1 gRPC Trace API.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L176","resources":[],"examples":[],"params":[{"name":"default_parent_id","types":["Integer"],"description":"The parent span ID to use if the\nspan has no parent in the trace tree. Optional; defaults to 0.","optional":true,"default":"0","nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/devtools/cloudtrace/v1/tracespan\">Google::Devtools::Cloudtrace::V1::TraceSpan</a>"],"description":"The generated\nprotobuf."}]},{"id":"exists?-instance","type":"instance","name":"exists?","title":["Google","Cloud","Trace","Span#exists?"],"description":"<p>Returns true if this span exists. A span exists until it has been\nremoved from its trace.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L195","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"trace_context-instance","type":"instance","name":"trace_context","title":["Google","Cloud","Trace","Span#trace_context"],"description":"<p>Returns the trace context in effect within this span.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L204","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Stackdriver::Core::TraceContext"],"description":""}]},{"id":"trace_id-instance","type":"instance","name":"trace_id","title":["Google","Cloud","Trace","Span#trace_id"],"description":"<p>Returns the trace ID for this span.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L214","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"The trace ID string."}]},{"id":"children-instance","type":"instance","name":"children","title":["Google","Cloud","Trace","Span#children"],"description":"<p>Returns a list of children of this span.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L224","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Array{TraceSpan}"],"description":"The children."}]},{"id":"create_span-instance","type":"instance","name":"create_span","title":["Google","Cloud","Trace","Span#create_span"],"description":"<p>Creates a new child span under this span.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L251","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/trace\"\n\ntrace = Google::Cloud::Trace.new trace_context\nspan = trace.create_span \"root_span\"\nsubspan = span.create_span \"subspan\""}],"params":[{"name":"name","types":["String"],"description":"The name of the span.","optional":false,"nullable":false},{"name":"span_id","types":["Integer"],"description":"The numeric ID of the span, or nil to\ngenerate a new random unique ID. Optional (defaults to nil).","optional":true,"default":"nil","nullable":true},{"name":"kind","types":["SpanKind"],"description":"The kind of span. Optional.","optional":true,"default":"SpanKind::UNSPECIFIED","nullable":false},{"name":"start_time","types":["Time"],"description":"The starting timestamp, or nil if not yet\nspecified. Optional (defaults to nil).","optional":true,"default":"nil","nullable":true},{"name":"end_time","types":["Time"],"description":"The ending timestamp, or nil if not yet\nspecified. Optional (defaults to nil).","optional":true,"default":"nil","nullable":true},{"name":"labels","types":["Hash{String=>String}"],"description":"The span properties. Optional\n(defaults to empty).","optional":true,"default":"{}","nullable":false}],"exceptions":[],"returns":[{"types":["TraceSpan"],"description":"The created span."}]},{"id":"in_span-instance","type":"instance","name":"in_span","title":["Google","Cloud","Trace","Span#in_span"],"description":"<p>Creates a root span around the given block. Automatically populates\nthe start and end timestamps. The span (with start time but not end\ntime populated) is yielded to the block.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L284","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/trace\"\n\ntrace = Google::Cloud::Trace.new trace_context\ntrace.in_span \"root_span\" do |span|\n  # Do stuff...\n  span.in_span \"subspan\" do |subspan|\n    # Do subspan stuff...\n  end\n  # Do stuff...\nend"}],"params":[{"name":"name","types":["String"],"description":"The name of the span.","optional":false,"nullable":false},{"name":"kind","types":["SpanKind"],"description":"The kind of span. Optional.","optional":true,"default":"SpanKind::UNSPECIFIED","nullable":false},{"name":"labels","types":["Hash{String=>String}"],"description":"The span properties. Optional\n(defaults to empty).","optional":true,"default":"{}","nullable":false}],"exceptions":[],"returns":[{"types":["TraceSpan"],"description":"The created span."}]},{"id":"start!-instance","type":"instance","name":"start!","title":["Google","Cloud","Trace","Span#start!"],"description":"<p>Sets the starting timestamp for this span to the current time.\nAsserts that the timestamp has not yet been set, and throws a\nRuntimeError if that is not the case.\nAlso ensures that all ancestor spans have already started, and\nstarts them if not.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L299","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"finish!-instance","type":"instance","name":"finish!","title":["Google","Cloud","Trace","Span#finish!"],"description":"<p>Sets the ending timestamp for this span to the current time.\nAsserts that the timestamp has not yet been set, and throws a\nRuntimeError if that is not the case.\nAlso ensures that all descendant spans have also finished, and\nfinishes them if not.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L311","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"ensure_started-instance","type":"instance","name":"ensure_started","title":["Google","Cloud","Trace","Span#ensure_started"],"description":"<p>Sets the starting timestamp for this span to the current time, if\nit has not yet been set. Also ensures that all ancestor spans have\nalso been started.\nDoes nothing if the starting timestamp for this span is already set.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L323","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"ensure_finished-instance","type":"instance","name":"ensure_finished","title":["Google","Cloud","Trace","Span#ensure_finished"],"description":"<p>Sets the ending timestamp for this span to the current time, if\nit has not yet been set. Also ensures that all descendant spans have\nalso been finished.\nDoes nothing if the ending timestamp for this span is already set.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L338","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"delete-instance","type":"instance","name":"delete","title":["Google","Cloud","Trace","Span#delete"],"description":"<p>Deletes this span, and all descendant spans. After this completes,\n<a data-custom-type=\"google/cloud/trace/span\" data-method=\"exists?-instance\">Span#exists?</a> will return <code>false</code>.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L351","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"move_under-instance","type":"instance","name":"move_under","title":["Google","Cloud","Trace","Span#move_under"],"description":"<p>Moves this span under a new parent, which must be part of the same\ntrace. The entire tree under this span moves with it.</p>","source":"google-cloud-trace/lib/google/cloud/trace/span.rb#L376","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/trace\"\n\ntrace = Google::Cloud::Trace.new\nroot1 = trace.create_span \"root_span_1\"\nroot2 = trace.create_span \"root_span_2\"\nsubspan = root1.create_span \"subspan\"\nsubspan.move_under root2"}],"params":[{"name":"new_parent","types":["Google::Cloud::Trace::Span"],"description":"The new parent.","optional":false,"nullable":false}],"exceptions":[],"returns":[]}]}