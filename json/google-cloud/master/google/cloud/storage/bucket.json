{"id":"google/cloud/storage/bucket","name":"Bucket","title":["Google","Cloud","Storage","Bucket"],"description":"<h1 id=\"bucket\">Bucket</h1>\n\n<p>Represents a Storage bucket. Belongs to a Project and has many Files.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L38","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-bucket\"\nfile = bucket.file \"path/to/my-file.ext\""}],"methods":[{"id":"kind-instance","type":"instance","name":"kind","title":["Google","Cloud","Storage","Bucket#kind"],"description":"<p>The kind of item this is.\nFor buckets, this is always <code>storage#bucket</code>.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L57","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"id-instance","type":"instance","name":"id","title":["Google","Cloud","Storage","Bucket#id"],"description":"<p>The ID of the bucket.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L63","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"name-instance","type":"instance","name":"name","title":["Google","Cloud","Storage","Bucket#name"],"description":"<p>The name of the bucket.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L69","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"api_url-instance","type":"instance","name":"api_url","title":["Google","Cloud","Storage","Bucket#api_url"],"description":"<p>A URL that can be used to access the bucket using the REST API.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L75","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"created_at-instance","type":"instance","name":"created_at","title":["Google","Cloud","Storage","Bucket#created_at"],"description":"<p>Creation time of the bucket.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L81","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"cors-instance","type":"instance","name":"cors","title":["Google","Cloud","Storage","Bucket#cors"],"description":"<p>Returns the current CORS configuration for a static website served\nfrom the bucket.</p>\n\n<p>The return value is a frozen (unmodifiable) array of hashes containing\nthe attributes specified for the Bucket resource field\n<a href=\"https://cloud.google.com/storage/docs/json_api/v1/buckets#cors\">cors</a>.</p>\n\n<p>This method also accepts a block for updating the bucket’s CORS rules.\nSee <a data-custom-type=\"google/cloud/storage/bucket/cors\">Bucket::Cors</a> for details.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L130","resources":[{"title":"Cross-Origin\nResource Sharing (CORS)","link":"https://cloud.google.com/storage/docs/cross-origin"}],"examples":[{"caption":"<p>Retrieving the bucket’s CORS rules.</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-todo-app\"\nbucket.cors.size #=> 2\nrule = bucket.cors.first\nrule.origin #=> [\"http://example.org\"]\nrule.methods #=> [\"GET\",\"POST\",\"DELETE\"]\nrule.headers #=> [\"X-My-Custom-Header\"]\nrule.max_age #=> 3600"},{"caption":"<p>Updating the bucket’s CORS rules inside a block.</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\nbucket = storage.bucket \"my-todo-app\"\n\nbucket.update do |b|\n  b.cors do |c|\n    c.add_rule [\"http://example.org\", \"https://example.org\"],\n               \"*\",\n               headers: [\"X-My-Custom-Header\"],\n               max_age: 3600\n  end\nend"}],"params":[{"name":"yield","types":["block"],"description":"a block for setting CORS rules","optional":true,"nullable":false},{"name":"yield.cors","types":["Bucket::Cors"],"description":"the object accepting CORS rules","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"location-instance","type":"instance","name":"location","title":["Google","Cloud","Storage","Bucket#location"],"description":"<p>The location of the bucket.\nObject data for objects in the bucket resides in physical\nstorage within this region. Defaults to US.\nSee the developer’s guide for the authoritative list.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L149","resources":[{"title":"","link":"https://cloud.google.com/storage/docs/concepts-techniques"}],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"logging_bucket-instance","type":"instance","name":"logging_bucket","title":["Google","Cloud","Storage","Bucket#logging_bucket"],"description":"<p>The destination bucket name for the bucket’s logs.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L158","resources":[{"title":"Access Logs","link":"https://cloud.google.com/storage/docs/access-logs"}],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"logging_bucket=-instance","type":"instance","name":"logging_bucket=","title":["Google","Cloud","Storage","Bucket#logging_bucket="],"description":"<p>Updates the destination bucket for the bucket’s logs.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L169","resources":[{"title":"Access Logs","link":"https://cloud.google.com/storage/docs/access-logs"}],"examples":[],"params":[{"name":"logging_bucket","types":["String"],"description":"The bucket to hold the logging output","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"logging_prefix-instance","type":"instance","name":"logging_prefix","title":["Google","Cloud","Storage","Bucket#logging_prefix"],"description":"<p>The logging object prefix for the bucket’s logs. For more information,</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L180","resources":[{"title":"Access Logs","link":"https://cloud.google.com/storage/docs/access-logs"}],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"logging_prefix=-instance","type":"instance","name":"logging_prefix=","title":["Google","Cloud","Storage","Bucket#logging_prefix="],"description":"<p>Updates the logging object prefix. This prefix will be used to create\nlog object names for the bucket. It can be at most 900 characters and\nmust be a <a href=\"https://cloud.google.com/storage/docs/bucket-naming#objectnames\">valid object\nname</a>.\nBy default, the object prefix is the name of the bucket for which the\nlogs are enabled.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L194","resources":[{"title":"Access Logs","link":"https://cloud.google.com/storage/docs/access-logs"}],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"storage_class-instance","type":"instance","name":"storage_class","title":["Google","Cloud","Storage","Bucket#storage_class"],"description":"<p>The bucket’s storage class. This defines how objects in the bucket are\nstored and determines the SLA and the cost of storage. Values include\n<code>MULTI_REGIONAL</code>, <code>REGIONAL</code>, <code>NEARLINE</code>, <code>COLDLINE</code>, <code>STANDARD</code>,\nand <code>DURABLE_REDUCED_AVAILABILITY</code>.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L205","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"versioning?-instance","type":"instance","name":"versioning?","title":["Google","Cloud","Storage","Bucket#versioning?"],"description":"<p>Whether <a href=\"https://cloud.google.com/storage/docs/object-versioning\">Object\nVersioning</a>\nis enabled for the bucket.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L213","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"versioning=-instance","type":"instance","name":"versioning=","title":["Google","Cloud","Storage","Bucket#versioning="],"description":"<p>Updates whether <a href=\"https://cloud.google.com/storage/docs/object-versioning\">Object\nVersioning</a>\nis enabled for the bucket.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L224","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"website_main-instance","type":"instance","name":"website_main","title":["Google","Cloud","Storage","Bucket#website_main"],"description":"<p>The index page returned from a static website served from the bucket\nwhen a site visitor requests the top level directory.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L237","resources":[{"title":"How to Host a Static Website","link":"https://cloud.google.com/storage/docs/website-configuration#step4"}],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"website_main=-instance","type":"instance","name":"website_main=","title":["Google","Cloud","Storage","Bucket#website_main="],"description":"<p>Updates the index page returned from a static website served from the\nbucket when a site visitor requests the top level directory.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L248","resources":[{"title":"How to Host a Static Website","link":"https://cloud.google.com/storage/docs/website-configuration#step4"}],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"website_404-instance","type":"instance","name":"website_404","title":["Google","Cloud","Storage","Bucket#website_404"],"description":"<p>The page returned from a static website served from the bucket when a\nsite visitor requests a resource that does not exist.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L261","resources":[{"title":"How to Host a Static Website","link":"https://cloud.google.com/storage/docs/website-configuration#step4"}],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"website_404=-instance","type":"instance","name":"website_404=","title":["Google","Cloud","Storage","Bucket#website_404="],"description":"<p>Updates the page returned from a static website served from the bucket\nwhen a site visitor requests a resource that does not exist.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L272","resources":[{"title":"How to Host a Static Website","link":"https://cloud.google.com/storage/docs/website-configuration#step4"}],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"update-instance","type":"instance","name":"update","title":["Google","Cloud","Storage","Bucket#update"],"description":"<p>Updates the bucket with changes made in the given block in a single\nPATCH request. The following attributes may be set: <a data-custom-type=\"google/cloud/storage/bucket\" data-method=\"cors-instance\">#cors</a>,\n<a data-custom-type=\"google/cloud/storage/bucket\" data-method=\"logging_bucket=-instance\">#logging_bucket=</a>, <a data-custom-type=\"google/cloud/storage/bucket\" data-method=\"logging_prefix=-instance\">#logging_prefix=</a>, <a data-custom-type=\"google/cloud/storage/bucket\" data-method=\"versioning=-instance\">#versioning=</a>,\n<a data-custom-type=\"google/cloud/storage/bucket\" data-method=\"website_main=-instance\">#website_main=</a>, and <a data-custom-type=\"google/cloud/storage/bucket\" data-method=\"website_404=-instance\">#website_404=</a>. In addition, the #cors\nconfiguration accessible in the block is completely mutable and will\nbe included in the request. (See <a data-custom-type=\"google/cloud/storage/bucket/cors\">Bucket::Cors</a>)</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L317","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-todo-app\"\nbucket.update do |b|\n  b.website_main = \"index.html\"\n  b.website_404 = \"not_found.html\"\n  b.cors[0].methods = [\"GET\",\"POST\",\"DELETE\"]\n  b.cors[1].headers << \"X-Another-Custom-Header\"\nend"},{"caption":"<p>New CORS rules can also be added in a nested block:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\nbucket = storage.bucket \"my-todo-app\"\n\nbucket.update do |b|\n  b.cors do |c|\n    c.add_rule [\"http://example.org\", \"https://example.org\"],\n               \"*\",\n               headers: [\"X-My-Custom-Header\"],\n               max_age: 300\n  end\nend"}],"params":[{"name":"yield","types":["block"],"description":"a block yielding a delegate object for updating the\nfile","optional":true,"nullable":false}],"exceptions":[],"returns":[]},{"id":"delete-instance","type":"instance","name":"delete","title":["Google","Cloud","Storage","Bucket#delete"],"description":"<p>Permanently deletes the bucket.\nThe bucket must be empty before it can be deleted.</p>\n\n<p>The API call to delete the bucket may be retried under certain\nconditions. See <a data-custom-type=\"google/cloud\" data-method=\"storage-instance\">Google::Cloud#storage</a> to control this behavior.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L342","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-bucket\"\nbucket.delete"}],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"Returns <code>true</code> if the bucket was deleted."}]},{"id":"files-instance","type":"instance","name":"files","title":["Google","Cloud","Storage","Bucket#files"],"description":"<p>Retrieves a list of files matching the criteria.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L395","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-bucket\"\nfiles = bucket.files\nfiles.each do |file|\n  puts file.name\nend"},{"caption":"<p>Retrieve all files: (See <a data-custom-type=\"google/cloud/storage/file/list\" data-method=\"all-instance\">File::List#all</a>)</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-bucket\"\nfiles = bucket.files\nfiles.all do |file|\n  puts file.name\nend"}],"params":[{"name":"prefix","types":["String"],"description":"Filter results to files whose names begin with\nthis prefix.","optional":true,"default":"nil","nullable":true},{"name":"delimiter","types":["String"],"description":"Returns results in a directory-like mode.\n<code>items</code> will contain only objects whose names, aside from the\n<code>prefix</code>, do not contain <code>delimiter</code>. Objects whose names, aside\nfrom the <code>prefix</code>, contain <code>delimiter</code> will have their name,\ntruncated after the <code>delimiter</code>, returned in <code>prefixes</code>. Duplicate\n<code>prefixes</code> are omitted.","optional":true,"default":"nil","nullable":true},{"name":"token","types":["String"],"description":"A previously-returned page token representing\npart of the larger set of results to view.","optional":true,"default":"nil","nullable":true},{"name":"max","types":["Integer"],"description":"Maximum number of items plus prefixes to return.\nAs duplicate prefixes are omitted, fewer total results may be\nreturned than requested. The default value of this parameter is\n1,000 items.","optional":true,"default":"nil","nullable":true},{"name":"versions","types":["Boolean"],"description":"If <code>true</code>, lists all versions of an object\nas distinct results. The default is <code>false</code>. For more information,\nsee <a href=\"https://cloud.google.com/storage/docs/object-versioning\">Object Versioning\n</a>.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"google/cloud/storage/file\">Google::Cloud::Storage::File</a>&gt;"],"description":"(See\n<a data-custom-type=\"google/cloud/storage/file/list\">Google::Cloud::Storage::File::List</a>)"}]},{"id":"file-instance","type":"instance","name":"file","title":["Google","Cloud","Storage","Bucket#file"],"description":"<p>Retrieves a file matching the path.</p>\n\n<p>If a <a href=\"https://cloud.google.com/storage/docs/encryption#customer-supplied\">customer-supplied encryption\nkey</a>\nwas used with <a data-custom-type=\"google/cloud/storage/bucket\" data-method=\"create_file-instance\">#create_file</a>, the <code>encryption_key</code> option must be\nprovided or else the file’s CRC32C checksum and MD5 hash will not be\nreturned.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L440","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-bucket\"\n\nfile = bucket.file \"path/to/my-file.ext\"\nputs file.name"}],"params":[{"name":"path","types":["String"],"description":"Name (path) of the file.","optional":false,"nullable":false},{"name":"generation","types":["Integer"],"description":"When present, selects a specific revision\nof this object. Default is the latest version.","optional":true,"default":"nil","nullable":true},{"name":"encryption_key","types":["String"],"description":"Optional. The customer-supplied,\nAES-256 encryption key used to encrypt the file, if one was provided\nto <a data-custom-type=\"google/cloud/storage/bucket\" data-method=\"create_file-instance\">#create_file</a>.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/storage/file\">Google::Cloud::Storage::File</a>","nil"],"description":"Returns nil if file does\nnot exist"}]},{"id":"create_file-instance","type":"instance","name":"create_file","title":["Google","Cloud","Storage","Bucket#create_file"],"description":"<p>Creates a new <a data-custom-type=\"google/cloud/storage/file\">File</a> object by providing a path to a local file to\nupload and the path to store it with in the bucket.</p>\n\n<h4 id=\"customer-supplied-encryption-keys\">Customer-supplied encryption keys</h4>\n\n<p>By default, Google Cloud Storage manages server-side encryption keys\non your behalf. However, a <a href=\"https://cloud.google.com/storage/docs/encryption#customer-supplied\">customer-supplied encryption key</a>\ncan be provided with the <code>encryption_key</code> option. If given, the same\nkey must be provided to subsequently download or copy the file. If you\nuse customer-supplied encryption keys, you must securely manage your\nkeys and ensure that they are not lost. Also, please note that file\nmetadata is not encrypted, with the exception of the CRC32C checksum\nand MD5 hash. The names of files and buckets are also not encrypted,\nand you can read or update the metadata of an encrypted file without\nproviding the encryption key.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L560","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-bucket\"\n\nbucket.create_file \"path/to/local.file.ext\""},{"caption":"<p>Specifying a destination path:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-bucket\"\n\nbucket.create_file \"path/to/local.file.ext\",\n                   \"destination/path/file.ext\""},{"caption":"<p>Providing a customer-supplied encryption key:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\nbucket = storage.bucket \"my-bucket\"\n\n# Key generation shown for example purposes only. Write your own.\ncipher = OpenSSL::Cipher.new \"aes-256-cfb\"\ncipher.encrypt\nkey = cipher.random_key\n\nbucket.create_file \"path/to/local.file.ext\",\n                   \"destination/path/file.ext\",\n                   encryption_key: key\n\n# Store your key and hash securely for later use.\nfile = bucket.file \"destination/path/file.ext\",\n                   encryption_key: key"}],"params":[{"name":"file","types":["String"],"description":"Path of the file on the filesystem to upload.","optional":false,"nullable":false},{"name":"path","types":["String"],"description":"Path to store the file in Google Cloud Storage.","optional":true,"default":"nil","nullable":true},{"name":"acl","types":["String"],"description":"A predefined set of access controls to apply to\nthis file.</p>\n\n<p>Acceptable values are:</p>\n\n<ul>\n  <li><code>auth</code>, <code>auth_read</code>, <code>authenticated</code>, <code>authenticated_read</code>,\n<code>authenticatedRead</code> - File owner gets OWNER access, and\nallAuthenticatedUsers get READER access.</li>\n  <li><code>owner_full</code>, <code>bucketOwnerFullControl</code> - File owner gets OWNER\naccess, and project team owners get OWNER access.</li>\n  <li><code>owner_read</code>, <code>bucketOwnerRead</code> - File owner gets OWNER access,\nand project team owners get READER access.</li>\n  <li><code>private</code> - File owner gets OWNER access.</li>\n  <li><code>project_private</code>, <code>projectPrivate</code> - File owner gets OWNER\naccess, and project team members get access according to their\nroles.</li>\n  <li><code>public</code>, <code>public_read</code>, <code>publicRead</code> - File owner gets OWNER\naccess, and allUsers get READER access.</li>\n</ul>","optional":true,"default":"nil","nullable":true},{"name":"cache_control","types":["String"],"description":"The\n<a href=\"https://tools.ietf.org/html/rfc7234#section-5.2\">Cache-Control</a>\nresponse header to be returned when the file is downloaded.","optional":true,"default":"nil","nullable":true},{"name":"content_disposition","types":["String"],"description":"The\n<a href=\"https://tools.ietf.org/html/rfc6266\">Content-Disposition</a>\nresponse header to be returned when the file is downloaded.","optional":true,"default":"nil","nullable":true},{"name":"content_encoding","types":["String"],"description":"The <a href=\"https://tools.ietf.org/html/rfc7231#section-3.1.2.2\">Content-Encoding\n</a> response\nheader to be returned when the file is downloaded.","optional":true,"default":"nil","nullable":true},{"name":"content_language","types":["String"],"description":"The\n<a href=\"http://tools.ietf.org/html/bcp47\">Content-Language</a> response\nheader to be returned when the file is downloaded.","optional":true,"default":"nil","nullable":true},{"name":"content_type","types":["String"],"description":"The\n<a href=\"https://tools.ietf.org/html/rfc2616#section-14.17\">Content-Type</a>\nresponse header to be returned when the file is downloaded.","optional":true,"default":"nil","nullable":true},{"name":"crc32c","types":["String"],"description":"The CRC32c checksum of the file data, as\ndescribed in <a href=\"http://tools.ietf.org/html/rfc4960#appendix-B\">RFC 4960, Appendix\nB</a>.\nIf provided, Cloud Storage will only create the file if the value\nmatches the value calculated by the service. See\n<a href=\"https://cloud.google.com/storage/docs/hashes-etags\">Validation</a>\nfor more information.","optional":true,"default":"nil","nullable":true},{"name":"md5","types":["String"],"description":"The MD5 hash of the file data. If provided, Cloud\nStorage will only create the file if the value matches the value\ncalculated by the service. See\n<a href=\"https://cloud.google.com/storage/docs/hashes-etags\">Validation</a> for\nmore information.","optional":true,"default":"nil","nullable":true},{"name":"metadata","types":["Hash"],"description":"A hash of custom, user-provided web-safe keys\nand arbitrary string values that will returned with requests for the\nfile as “x-goog-meta-“ response headers.","optional":true,"default":"nil","nullable":true},{"name":"encryption_key","types":["String"],"description":"Optional. A customer-supplied, AES-256\nencryption key that will be used to encrypt the file.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/storage/file\">Google::Cloud::Storage::File</a>"],"description":""}]},{"id":"signed_url-instance","type":"instance","name":"signed_url","title":["Google","Cloud","Storage","Bucket#signed_url"],"description":"<p>Access without authentication can be granted to a File for a specified\nperiod of time. This URL uses a cryptographic signature of your\ncredentials to access the file identified by <code>path</code>. A URL can be\ncreated for paths that do not yet exist. For instance, a URL can be\ncreated to <code>PUT</code> file contents to.</p>\n\n<p>Generating a URL requires service account credentials, either by\nconnecting with a service account when calling\n<a data-custom-type=\"google/cloud\" data-method=\"storage-class\">Google::Cloud.storage</a>, or by passing in the service account <code>issuer</code>\nand <code>signing_key</code> values. Although the private key can be passed as a\nstring for convenience, creating and storing an instance of\n<code>OpenSSL::PKey::RSA</code> is more efficient when making multiple calls to\n<code>signed_url</code>.</p>\n\n<p>A <a data-custom-type=\"google/cloud/storage/signedurlunavailable\">SignedUrlUnavailable</a> is raised if the service account credentials\nare missing. Service account credentials are acquired by following the\nsteps in <a href=\"https://cloud.google.com/storage/docs/authentication#service_accounts\">Service Account Authentication</a>.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L666","resources":[{"title":"Access Control Signed URLs guide","link":"https://cloud.google.com/storage/docs/access-control#Signed-URLs"}],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-todo-app\"\nshared_url = bucket.signed_url \"avatars/heidi/400x400.png\""},{"caption":"<p>Any of the option parameters may be specified:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-todo-app\"\nshared_url = bucket.signed_url \"avatars/heidi/400x400.png\",\n                               method: \"PUT\",\n                               expires: 300 # 5 minutes from now"},{"caption":"<p>Using the issuer and signing_key options:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud.storage\n\nbucket = storage.bucket \"my-todo-app\"\nkey = OpenSSL::PKey::RSA.new \"-----BEGIN PRIVATE KEY-----\\n...\"\nshared_url = bucket.signed_url \"avatars/heidi/400x400.png\",\n                               issuer: \"service-account@gcloud.com\",\n                               signing_key: key"},{"caption":"<p>Using the headers option:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud.storage\n\nbucket = storage.bucket \"my-todo-app\"\nshared_url = bucket.signed_url \"avatars/heidi/400x400.png\",\n                               headers: {\n                                 \"x-goog-acl\" => \"private\",\n                                 \"x-goog-meta-foo\" => \"bar,baz\"\n                               }"}],"params":[{"name":"path","types":["String"],"description":"Path to of the file in Google Cloud Storage.","optional":false,"nullable":false},{"name":"method","types":["String"],"description":"The HTTP verb to be used with the signed URL.\nSigned URLs can be used\nwith <code>GET</code>, <code>HEAD</code>, <code>PUT</code>, and <code>DELETE</code> requests. Default is <code>GET</code>.","optional":true,"default":"nil","nullable":true},{"name":"expires","types":["Integer"],"description":"The number of seconds until the URL expires.\nDefault is 300/5 minutes.","optional":true,"default":"nil","nullable":true},{"name":"content_type","types":["String"],"description":"When provided, the client (browser) must\nsend this value in the HTTP header. e.g. <code>text/plain</code>","optional":true,"default":"nil","nullable":true},{"name":"content_md5","types":["String"],"description":"The MD5 digest value in base64. If you\nprovide this in the string, the client (usually a browser) must\nprovide this HTTP header with this same value in its request.","optional":true,"default":"nil","nullable":true},{"name":"headers","types":["Hash"],"description":"Google extension headers (custom HTTP headers\nthat begin with <code>x-goog-</code>) that must be included in requests that\nuse the signed URL.","optional":true,"default":"nil","nullable":true},{"name":"issuer","types":["String"],"description":"Service Account’s Client Email.","optional":true,"default":"nil","nullable":true},{"name":"client_email","types":["String"],"description":"Service Account’s Client Email.","optional":true,"default":"nil","nullable":true},{"name":"signing_key","types":["OpenSSL::PKey::RSA","String"],"description":"Service Account’s\nPrivate Key.","optional":true,"default":"nil","nullable":true},{"name":"private_key","types":["OpenSSL::PKey::RSA","String"],"description":"Service Account’s\nPrivate Key.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[]},{"id":"acl-instance","type":"instance","name":"acl","title":["Google","Cloud","Storage","Bucket#acl"],"description":"<p>The Bucket::Acl instance used to control access to the bucket.</p>\n\n<p>A bucket has owners, writers, and readers. Permissions can be granted\nto an individual user’s email address, a group’s email address, as\nwell as many predefined lists.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L717","resources":[{"title":"Access\nControl guide","link":"https://cloud.google.com/storage/docs/access-control"}],"examples":[{"caption":"<p>Grant access to a user by prepending <code>\"user-\"</code> to an email:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-todo-app\"\n\nemail = \"heidi@example.net\"\nbucket.acl.add_reader \"user-#{email}\""},{"caption":"<p>Grant access to a group by prepending <code>\"group-\"</code> to an email:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-todo-app\"\n\nemail = \"authors@example.net\"\nbucket.acl.add_reader \"group-#{email}\""},{"caption":"<p>Or, grant access via a predefined permissions list:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-todo-app\"\n\nbucket.acl.public!"}],"params":[],"exceptions":[],"returns":[]},{"id":"default_acl-instance","type":"instance","name":"default_acl","title":["Google","Cloud","Storage","Bucket#default_acl"],"description":"<p>The Bucket::DefaultAcl instance used to control access to the bucket’s\nfiles.</p>\n\n<p>A bucket’s files have owners, writers, and readers. Permissions can be\ngranted to an individual user’s email address, a group’s email\naddress, as well as many predefined lists.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L761","resources":[{"title":"Access\nControl guide","link":"https://cloud.google.com/storage/docs/access-control"}],"examples":[{"caption":"<p>Grant access to a user by prepending <code>\"user-\"</code> to an email:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-todo-app\"\n\nemail = \"heidi@example.net\"\nbucket.default_acl.add_reader \"user-#{email}\""},{"caption":"<p>Grant access to a group by prepending <code>\"group-\"</code> to an email</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-todo-app\"\n\nemail = \"authors@example.net\"\nbucket.default_acl.add_reader \"group-#{email}\""},{"caption":"<p>Or, grant access via a predefined permissions list:</p>","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\n\nbucket = storage.bucket \"my-todo-app\"\n\nbucket.default_acl.public!"}],"params":[],"exceptions":[],"returns":[]},{"id":"reload!-instance","type":"instance","name":"reload!","title":["Google","Cloud","Storage","Bucket#reload!"],"description":"<p>Reloads the bucket with current data from the Storage service.</p>","source":"google-cloud-storage/lib/google/cloud/storage/bucket.rb#L767","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]}]}