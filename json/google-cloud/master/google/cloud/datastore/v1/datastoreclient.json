{"id":"google/cloud/datastore/v1/datastoreclient","name":"DatastoreClient","title":["Google","Cloud","Datastore","V1","DatastoreClient"],"description":"<p>Each RPC normalizes the partition IDs of the keys in its input entities,\nand always returns entities with keys with normalized partition IDs.\nThis applies to all keys and entities, including those in values, except keys\nwith both an empty path and an empty or unset partition ID. Normalization of\ninput keys sets the project ID (if not already set) to the project ID from\nthe request.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/v1/datastore_client.rb#L44","resources":[],"examples":[],"methods":[{"id":"datastore_stub-instance","type":"instance","name":"datastore_stub","title":["Google","Cloud","Datastore","V1","DatastoreClient#datastore_stub"],"description":"","source":"google-cloud-datastore/lib/google/cloud/datastore/v1/datastore_client.rb#L44","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Google::Datastore::V1::Datastore::Stub"],"description":""}]},{"id":"initialize-constructor","type":"constructor","name":"initialize","title":["Google","Cloud","Datastore","V1","DatastoreClient#initialize"],"description":"","source":"google-cloud-datastore/lib/google/cloud/datastore/v1/datastore_client.rb#L83","resources":[],"examples":[],"params":[{"name":"service_path","types":["String"],"description":"The domain name of the API remote host.","optional":true,"default":"SERVICE_ADDRESS","nullable":false},{"name":"port","types":["Integer"],"description":"The port on which to connect to the remote host.","optional":true,"default":"DEFAULT_SERVICE_PORT","nullable":false},{"name":"channel","types":["Channel"],"description":"A Channel object through which to make calls.","optional":true,"default":"nil","nullable":true},{"name":"chan_creds","types":["Grpc::ChannelCredentials"],"description":"A ChannelCredentials for the setting up the RPC client.","optional":true,"default":"nil","nullable":true},{"name":"client_config","types":["Hash"],"description":"A Hash for call options for each method. See\nGoogle::Gax#construct_settings for the structure of\nthis data. Falls back to the default config if not specified\nor the specified config is missing data points.","optional":true,"default":"{}","nullable":false},{"name":"timeout","types":["Numeric"],"description":"The default timeout, in seconds, for calls made through this client.","optional":true,"default":"DEFAULT_TIMEOUT","nullable":false},{"name":"app_name","types":["String"],"description":"The codename of the calling service.","optional":true,"default":"\"gax\"","nullable":false},{"name":"app_version","types":["String"],"description":"The version of the calling service.","optional":true,"default":"Google::Gax::VERSION","nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"google/cloud/datastore/v1/datastoreclient\">DatastoreClient</a>"],"description":"a new instance of DatastoreClient"}]},{"id":"lookup-instance","type":"instance","name":"lookup","title":["Google","Cloud","Datastore","V1","DatastoreClient#lookup"],"description":"<p>Looks up entities by key.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/v1/datastore_client.rb#L179","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/datastore/v1/datastore_client\"\n\nDatastoreClient = Google::Cloud::Datastore::V1::DatastoreClient\nReadOptions = Google::Datastore::V1::ReadOptions\n\ndatastore_client = DatastoreClient.new\nproject_id = ''\nread_options = ReadOptions.new\nkeys = []\nresponse = datastore_client.lookup(project_id, read_options, keys)"}],"params":[{"name":"project_id","types":["String"],"description":"The ID of the project against which to make the request.","optional":false,"nullable":false},{"name":"read_options","types":["Google::Datastore::V1::ReadOptions"],"description":"The options for this lookup request.","optional":false,"nullable":false},{"name":"keys","types":["Array<Google::Datastore::V1::Key>"],"description":"Keys of entities to look up.","optional":false,"nullable":false},{"name":"options","types":["Google::Gax::CallOptions"],"description":"Overrides the default settings for this call, e.g, timeout,\nretries, etc.","optional":true,"default":"nil","nullable":true}],"exceptions":[{"type":"Google::Gax::GaxError","description":"if the RPC is aborted."}],"returns":[{"types":["<a data-custom-type=\"google/datastore/v1/lookupresponse\">Google::Datastore::V1::LookupResponse</a>"],"description":""}]},{"id":"run_query-instance","type":"instance","name":"run_query","title":["Google","Cloud","Datastore","V1","DatastoreClient#run_query"],"description":"<p>Queries for entities.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/v1/datastore_client.rb#L225","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/datastore/v1/datastore_client\"\n\nDatastoreClient = Google::Cloud::Datastore::V1::DatastoreClient\nPartitionId = Google::Datastore::V1::PartitionId\nReadOptions = Google::Datastore::V1::ReadOptions\n\ndatastore_client = DatastoreClient.new\nproject_id = ''\npartition_id = PartitionId.new\nread_options = ReadOptions.new\nresponse = datastore_client.run_query(project_id, partition_id, read_options)"}],"params":[{"name":"project_id","types":["String"],"description":"The ID of the project against which to make the request.","optional":false,"nullable":false},{"name":"partition_id","types":["Google::Datastore::V1::PartitionId"],"description":"Entities are partitioned into subsets, identified by a partition ID.\nQueries are scoped to a single partition.\nThis partition ID is normalized with the standard default context\npartition ID.","optional":false,"nullable":false},{"name":"read_options","types":["Google::Datastore::V1::ReadOptions"],"description":"The options for this query.","optional":false,"nullable":false},{"name":"query","types":["Google::Datastore::V1::Query"],"description":"The query to run.","optional":true,"default":"nil","nullable":true},{"name":"gql_query","types":["Google::Datastore::V1::GqlQuery"],"description":"The GQL query to run.","optional":true,"default":"nil","nullable":true},{"name":"options","types":["Google::Gax::CallOptions"],"description":"Overrides the default settings for this call, e.g, timeout,\nretries, etc.","optional":true,"default":"nil","nullable":true}],"exceptions":[{"type":"Google::Gax::GaxError","description":"if the RPC is aborted."}],"returns":[{"types":["<a data-custom-type=\"google/datastore/v1/runqueryresponse\">Google::Datastore::V1::RunQueryResponse</a>"],"description":""}]},{"id":"begin_transaction-instance","type":"instance","name":"begin_transaction","title":["Google","Cloud","Datastore","V1","DatastoreClient#begin_transaction"],"description":"<p>Begins a new transaction.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/v1/datastore_client.rb#L260","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/datastore/v1/datastore_client\"\n\nDatastoreClient = Google::Cloud::Datastore::V1::DatastoreClient\n\ndatastore_client = DatastoreClient.new\nproject_id = ''\nresponse = datastore_client.begin_transaction(project_id)"}],"params":[{"name":"project_id","types":["String"],"description":"The ID of the project against which to make the request.","optional":false,"nullable":false},{"name":"options","types":["Google::Gax::CallOptions"],"description":"Overrides the default settings for this call, e.g, timeout,\nretries, etc.","optional":true,"default":"nil","nullable":true}],"exceptions":[{"type":"Google::Gax::GaxError","description":"if the RPC is aborted."}],"returns":[{"types":["<a data-custom-type=\"google/datastore/v1/begintransactionresponse\">Google::Datastore::V1::BeginTransactionResponse</a>"],"description":""}]},{"id":"commit-instance","type":"instance","name":"commit","title":["Google","Cloud","Datastore","V1","DatastoreClient#commit"],"description":"<p>Commits a transaction, optionally creating, deleting or modifying some\nentities.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/v1/datastore_client.rb#L311","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/datastore/v1/datastore_client\"\n\nDatastoreClient = Google::Cloud::Datastore::V1::DatastoreClient\nMode = Google::Datastore::V1::CommitRequest::Mode\n\ndatastore_client = DatastoreClient.new\nproject_id = ''\nmode = Mode::MODE_UNSPECIFIED\nmutations = []\nresponse = datastore_client.commit(project_id, mode, mutations)"}],"params":[{"name":"project_id","types":["String"],"description":"The ID of the project against which to make the request.","optional":false,"nullable":false},{"name":"mode","types":["Google::Datastore::V1::CommitRequest::Mode"],"description":"The type of commit to perform. Defaults to +TRANSACTIONAL+.","optional":false,"nullable":false},{"name":"transaction","types":["String"],"description":"The identifier of the transaction associated with the commit. A\ntransaction identifier is returned by a call to\nDatastore::BeginTransaction.","optional":true,"default":"nil","nullable":true},{"name":"mutations","types":["Array<Google::Datastore::V1::Mutation>"],"description":"The mutations to perform.</p>\n\n<p>When mode is +TRANSACTIONAL+, mutations affecting a single entity are\napplied in order. The following sequences of mutations affecting a single\nentity are not permitted in a single +Commit+ request:</p>\n\n<ul>\n  <li>+insert+ followed by +insert+</li>\n  <li>+update+ followed by +insert+</li>\n  <li>+upsert+ followed by +insert+</li>\n  <li>+delete+ followed by +update+</li>\n</ul>\n\n<p>When mode is +NON_TRANSACTIONAL+, no two mutations may affect a single\nentity.","optional":false,"nullable":false},{"name":"options","types":["Google::Gax::CallOptions"],"description":"Overrides the default settings for this call, e.g, timeout,\nretries, etc.","optional":true,"default":"nil","nullable":true}],"exceptions":[{"type":"Google::Gax::GaxError","description":"if the RPC is aborted."}],"returns":[{"types":["<a data-custom-type=\"google/datastore/v1/commitresponse\">Google::Datastore::V1::CommitResponse</a>"],"description":""}]},{"id":"rollback-instance","type":"instance","name":"rollback","title":["Google","Cloud","Datastore","V1","DatastoreClient#rollback"],"description":"<p>Rolls back a transaction.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/v1/datastore_client.rb#L348","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/datastore/v1/datastore_client\"\n\nDatastoreClient = Google::Cloud::Datastore::V1::DatastoreClient\n\ndatastore_client = DatastoreClient.new\nproject_id = ''\ntransaction = ''\nresponse = datastore_client.rollback(project_id, transaction)"}],"params":[{"name":"project_id","types":["String"],"description":"The ID of the project against which to make the request.","optional":false,"nullable":false},{"name":"transaction","types":["String"],"description":"The transaction identifier, returned by a call to\nDatastore::BeginTransaction.","optional":false,"nullable":false},{"name":"options","types":["Google::Gax::CallOptions"],"description":"Overrides the default settings for this call, e.g, timeout,\nretries, etc.","optional":true,"default":"nil","nullable":true}],"exceptions":[{"type":"Google::Gax::GaxError","description":"if the RPC is aborted."}],"returns":[{"types":["<a data-custom-type=\"google/datastore/v1/rollbackresponse\">Google::Datastore::V1::RollbackResponse</a>"],"description":""}]},{"id":"allocate_ids-instance","type":"instance","name":"allocate_ids","title":["Google","Cloud","Datastore","V1","DatastoreClient#allocate_ids"],"description":"<p>Allocates IDs for the given keys, which is useful for referencing an entity\nbefore it is inserted.</p>","source":"google-cloud-datastore/lib/google/cloud/datastore/v1/datastore_client.rb#L382","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/datastore/v1/datastore_client\"\n\nDatastoreClient = Google::Cloud::Datastore::V1::DatastoreClient\n\ndatastore_client = DatastoreClient.new\nproject_id = ''\nkeys = []\nresponse = datastore_client.allocate_ids(project_id, keys)"}],"params":[{"name":"project_id","types":["String"],"description":"The ID of the project against which to make the request.","optional":false,"nullable":false},{"name":"keys","types":["Array<Google::Datastore::V1::Key>"],"description":"A list of keys with incomplete key paths for which to allocate IDs.\nNo key may be reserved/read-only.","optional":false,"nullable":false},{"name":"options","types":["Google::Gax::CallOptions"],"description":"Overrides the default settings for this call, e.g, timeout,\nretries, etc.","optional":true,"default":"nil","nullable":true}],"exceptions":[{"type":"Google::Gax::GaxError","description":"if the RPC is aborted."}],"returns":[{"types":["<a data-custom-type=\"google/datastore/v1/allocateidsresponse\">Google::Datastore::V1::AllocateIdsResponse</a>"],"description":""}]}]}