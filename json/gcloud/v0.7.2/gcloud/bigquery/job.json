{"id":"gcloud/bigquery/job","name":"Job","title":["Gcloud","Bigquery","Job"],"description":"<h1 id=\"job\">Job</h1>\n\n<p>Represents a generic Job that may be performed on a <a data-custom-type=\"gcloud/bigquery/table\">Table</a>.</p>\n\n<p>The subclasses of Job represent the specific BigQuery job types:\n<a data-custom-type=\"gcloud/bigquery/copyjob\">CopyJob</a>, <a data-custom-type=\"gcloud/bigquery/extractjob\">ExtractJob</a>, <a data-custom-type=\"gcloud/bigquery/loadjob\">LoadJob</a>, and <a data-custom-type=\"gcloud/bigquery/queryjob\">QueryJob</a>.</p>\n\n<p>A job instance is created when you call <a data-custom-type=\"gcloud/bigquery/project\" data-method=\"query_job-instance\">Project#query_job</a>,\n<a data-custom-type=\"gcloud/bigquery/dataset\" data-method=\"query_job-instance\">Dataset#query_job</a>, <a data-custom-type=\"gcloud/bigquery/table\" data-method=\"copy-instance\">Table#copy</a>, <a data-custom-type=\"gcloud/bigquery/table\" data-method=\"extract-instance\">Table#extract</a>, <a data-custom-type=\"gcloud/bigquery/table\" data-method=\"load-instance\">Table#load</a>, or\n<a data-custom-type=\"gcloud/bigquery/view\" data-method=\"data-instance\">View#data</a>.</p>","source":"lib/gcloud/bigquery/job.rb#L56","resources":[{"title":"Managing Jobs, Datasets, and Projects","link":"https://cloud.google.com/bigquery/docs/managing_jobs_datasets_projects"},{"title":"Jobs API\nreference","link":"https://cloud.google.com/bigquery/docs/reference/v2/jobs"}],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nbigquery = gcloud.bigquery\n\nq = \"SELECT COUNT(word) as count FROM publicdata:samples.shakespeare\"\njob = bigquery.query_job q\n\njob.wait_until_done!\n\nif job.failed?\n  puts job.error\nelse\n  puts job.query_results.first\nend"}],"methods":[{"id":"job_id-instance","type":"instance","name":"job_id","title":["Gcloud","Bigquery","Job#job_id"],"description":"<p>The ID of the job.</p>","source":"lib/gcloud/bigquery/job.rb#L74","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"project_id-instance","type":"instance","name":"project_id","title":["Gcloud","Bigquery","Job#project_id"],"description":"<p>The ID of the project containing the job.</p>","source":"lib/gcloud/bigquery/job.rb#L80","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"state-instance","type":"instance","name":"state","title":["Gcloud","Bigquery","Job#state"],"description":"<p>The current state of the job. The possible values are <code>PENDING</code>,\n<code>RUNNING</code>, and <code>DONE</code>. A <code>DONE</code> state does not mean that the job\ncompleted successfully. Use <a data-custom-type=\"gcloud/bigquery/job\" data-method=\"failed?-instance\">#failed?</a> to discover if an error occurred\nor if the job was successful.</p>","source":"lib/gcloud/bigquery/job.rb#L89","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"running?-instance","type":"instance","name":"running?","title":["Gcloud","Bigquery","Job#running?"],"description":"<p>Checks if the job’s state is <code>RUNNING</code>.</p>","source":"lib/gcloud/bigquery/job.rb#L96","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"pending?-instance","type":"instance","name":"pending?","title":["Gcloud","Bigquery","Job#pending?"],"description":"<p>Checks if the job’s state is <code>PENDING</code>.</p>","source":"lib/gcloud/bigquery/job.rb#L103","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"done?-instance","type":"instance","name":"done?","title":["Gcloud","Bigquery","Job#done?"],"description":"<p>Checks if the job’s state is <code>DONE</code>. When <code>true</code>, the job has stopped\nrunning. However, a <code>DONE</code> state does not mean that the job completed\nsuccessfully.  Use <a data-custom-type=\"gcloud/bigquery/job\" data-method=\"failed?-instance\">#failed?</a> to detect if an error occurred or if the\njob was successful.</p>","source":"lib/gcloud/bigquery/job.rb#L113","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"failed?-instance","type":"instance","name":"failed?","title":["Gcloud","Bigquery","Job#failed?"],"description":"<p>Checks if an error is present.</p>","source":"lib/gcloud/bigquery/job.rb#L120","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"created_at-instance","type":"instance","name":"created_at","title":["Gcloud","Bigquery","Job#created_at"],"description":"<p>The time when the job was created.</p>","source":"lib/gcloud/bigquery/job.rb#L126","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"started_at-instance","type":"instance","name":"started_at","title":["Gcloud","Bigquery","Job#started_at"],"description":"<p>The time when the job was started.\nThis field is present after the job’s state changes from <code>PENDING</code>\nto either <code>RUNNING</code> or <code>DONE</code>.</p>","source":"lib/gcloud/bigquery/job.rb#L136","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"ended_at-instance","type":"instance","name":"ended_at","title":["Gcloud","Bigquery","Job#ended_at"],"description":"<p>The time when the job ended.\nThis field is present when the job’s state is <code>DONE</code>.</p>","source":"lib/gcloud/bigquery/job.rb#L145","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"configuration-instance","type":"instance","name":"configuration","title":["Gcloud","Bigquery","Job#configuration"],"description":"<p>The configuration for the job. Returns a hash.</p>","source":"lib/gcloud/bigquery/job.rb#L156","resources":[{"title":"Jobs API\nreference","link":"https://cloud.google.com/bigquery/docs/reference/v2/jobs"}],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"statistics-instance","type":"instance","name":"statistics","title":["Gcloud","Bigquery","Job#statistics"],"description":"<p>The statistics for the job. Returns a hash.</p>","source":"lib/gcloud/bigquery/job.rb#L168","resources":[{"title":"Jobs API\nreference","link":"https://cloud.google.com/bigquery/docs/reference/v2/jobs"}],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"status-instance","type":"instance","name":"status","title":["Gcloud","Bigquery","Job#status"],"description":"<p>The job’s status. Returns a hash. The values contained in the hash are\nalso exposed by <a data-custom-type=\"gcloud/bigquery/job\" data-method=\"state-instance\">#state</a>, <a data-custom-type=\"gcloud/bigquery/job\" data-method=\"error-instance\">#error</a>, and <a data-custom-type=\"gcloud/bigquery/job\" data-method=\"errors-instance\">#errors</a>.</p>","source":"lib/gcloud/bigquery/job.rb#L178","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"error-instance","type":"instance","name":"error","title":["Gcloud","Bigquery","Job#error"],"description":"<p>The last error for the job, if any errors have occurred. Returns a\nhash.</p>","source":"lib/gcloud/bigquery/job.rb#L198","resources":[{"title":"Jobs API\nreference","link":"https://cloud.google.com/bigquery/docs/reference/v2/jobs"}],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Hash"],"description":"Returns a hash containing <code>reason</code> and <code>message</code> keys:</p>\n\n<p>{\n  “reason”=&gt;”notFound”,\n  “message”=&gt;”Not found: Table publicdata:samples.BAD_ID”\n}"}]},{"id":"errors-instance","type":"instance","name":"errors","title":["Gcloud","Bigquery","Job#errors"],"description":"<p>The errors for the job, if any errors have occurred. Returns an array\nof hash objects. See <a data-custom-type=\"gcloud/bigquery/job\" data-method=\"error-instance\">#error</a>.</p>","source":"lib/gcloud/bigquery/job.rb#L205","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"rerun!-instance","type":"instance","name":"rerun!","title":["Gcloud","Bigquery","Job#rerun!"],"description":"<p>Created a new job with the current configuration.</p>","source":"lib/gcloud/bigquery/job.rb#L211","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"reload!-instance","type":"instance","name":"reload!","title":["Gcloud","Bigquery","Job#reload!"],"description":"<p>Reloads the job with current data from the BigQuery service.</p>","source":"lib/gcloud/bigquery/job.rb#L223","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"wait_until_done!-instance","type":"instance","name":"wait_until_done!","title":["Gcloud","Bigquery","Job#wait_until_done!"],"description":"<p>Refreshes the job until the job is <code>DONE</code>.\nThe delay between refreshes will incrementally increase.</p>","source":"lib/gcloud/bigquery/job.rb#L250","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nbigquery = gcloud.bigquery\ndataset = bigquery.dataset \"my_dataset\"\ntable = dataset.table \"my_table\"\n\nextract_job = table.extract \"gs://my-bucket/file-name.json\",\n                            format: \"json\"\nextract_job.wait_until_done!\nextract_job.done? #=> true"}],"params":[],"exceptions":[],"returns":[]}]}