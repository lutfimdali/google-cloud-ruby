{"id":"gcloud/vision/project","name":"Project","title":["Gcloud","Vision","Project"],"description":"<h1 id=\"project\">Project</h1>\n\n<p>Google Cloud Vision allows easy integration of vision detection features\nwithin developer applications, including image labeling, face and landmark\ndetection, optical character recognition (OCR), and tagging of explicit\ncontent.</p>\n\n<p>See Gcloud#vision</p>","source":"lib/gcloud/vision/project.rb#L49","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nvision = gcloud.vision\n\nimage = vision.image \"path/to/landmark.jpg\"\n\nannotation = vision.annotate image, labels: true\n\nannotation.labels.map &:description\n#=> [\"stone carving\", \"ancient history\", \"statue\", \"sculpture\",\n#=>  \"monument\", \"landmark\"]"}],"methods":[{"id":"project-instance","type":"instance","name":"project","title":["Gcloud","Vision","Project#project"],"description":"<p>The Vision project connected to.</p>","source":"lib/gcloud/vision/project.rb#L73","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new \"my-todo-project\",\n                    \"/path/to/keyfile.json\"\nvision = gcloud.vision\n\nvision.project #=> \"my-todo-project\""}],"params":[],"exceptions":[],"returns":[]},{"id":"image-instance","type":"instance","name":"image","title":["Gcloud","Vision","Project#image"],"description":"<p>Returns a new image from the given source.</p>\n\n<p>Cloud Vision sets upper limits on file size as well as on the total\ncombined size of all images in a request. Reducing your file size can\nsignificantly improve throughput; however, be careful not to reduce\nimage quality in the process. See <a href=\"https://cloud.google.com/vision/docs/image-best-practices#image_sizing\">Best Practices - Image\nSizing</a>\nfor current file size limits.</p>\n\n<p>Note that an object in Google Cloud Storage is a single entity;\npermissions affect only that object. “Directory permissions” do not\nexist (though default bucket permissions do exist). Make sure the code\nwhich performs your request has access to that image.</p>","source":"lib/gcloud/vision/project.rb#L127","resources":[{"title":"Best\nPractices","link":"https://cloud.google.com/vision/docs/image-best-practices"}],"examples":[{"caption":"<p>With a Google Cloud Storage URI:</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nvision = gcloud.vision\n\nimage = vision.image \"gs://bucket-name/path_to_image_object\""},{"caption":"<p>With a local file path:</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nvision = gcloud.vision\n\nimage = vision.image \"path/to/landmark.jpg\""}],"params":[{"name":"source","types":["String","IO","StringIO","Tempfile","Gcloud::Storage::File"],"description":"A\nstring file path or Cloud Storage URI of the form\n<code>\"gs://bucketname/path/to/image_filename\"</code>; or a File, IO, StringIO,\nor Tempfile instance; or an instance of Gcloud::Storage::File.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"gcloud/vision/image\">Image</a>"],"description":"An image for the Vision service."}]},{"id":"annotate-instance","type":"instance","name":"annotate","title":["Gcloud","Vision","Project#annotate"],"description":"<p>Performs detection of Cloud Vision <a href=\"https://cloud.google.com/vision/reference/rest/v1/images/annotate#Feature\">features</a>\non the given image(s). If no options for features are provided, <strong>all</strong>\nimage detection features will be performed, with a default of <code>10</code>\nresults for faces, landmarks, logos, and labels. If any feature option\nis provided, only the specified feature detections will be performed.\nPlease review <a href=\"https://cloud.google.com/vision/docs/pricing\">Pricing</a>\nbefore use, as a separate charge is incurred for each feature performed\non an image.</p>\n\n<p>Cloud Vision sets upper limits on file size as well as on the total\ncombined size of all images in a request. Reducing your file size can\nsignificantly improve throughput; however, be careful not to reduce\nimage quality in the process. See <a href=\"https://cloud.google.com/vision/docs/image-best-practices#image_sizing\">Best Practices - Image\nSizing</a>\nfor current file size limits.</p>","source":"lib/gcloud/vision/project.rb#L250","resources":[{"title":"Cloud\nVision API Requests and Responses","link":"https://cloud.google.com/vision/docs/requests-and-responses"},{"title":"AnnotateImageRequest","link":"https://cloud.google.com/vision/reference/rest/v1/images/annotate#AnnotateImageRequest"},{"title":"Cloud Vision Pricing","link":"https://cloud.google.com/vision/docs/pricing"}],"examples":[{"caption":"<p>With a single image:</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nvision = gcloud.vision\n\nimage = vision.image \"path/to/landmark.jpg\"\n\nannotation = vision.annotate image, labels: true\n\nannotation.labels.map &:description\n#=> [\"stone carving\", \"ancient history\", \"statue\", \"sculpture\",\n#=>  \"monument\", \"landmark\"]"},{"caption":"<p>With multiple images:</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nvision = gcloud.vision\n\nface_image = vision.image \"path/to/face.jpg\"\nlandmark_image = vision.image \"path/to/landmark.jpg\"\n\nannotations = vision.annotate face_image, landmark_image, labels: true\n\nannotations[0].labels.count #=> 4\nannotations[1].labels.count #=> 6"},{"caption":"<p>With multiple images and configurations passed in a block:</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nvision = gcloud.vision\n\nface_image = vision.image \"path/to/face.jpg\"\nlandmark_image = vision.image \"path/to/landmark.jpg\"\ntext_image = vision.image \"path/to/text.png\"\n\nannotations = vision.annotate do |annotate|\n   annotate.annotate face_image, faces: true, labels: true\n   annotate.annotate landmark_image, landmarks: true\n   annotate.annotate text_image, text: true\nend\n\nannotations[0].faces.count #=> 1\nannotations[0].labels.count #=> 4\nannotations[1].landmarks.count #=> 1\nannotations[2].text.words.count #=> 28"},{"caption":"<p>Maximum result values can also be provided:</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nvision = gcloud.vision\n\nimage = vision.image \"path/to/landmark.jpg\"\n\nannotation = vision.annotate image, labels: 3\n\nannotation.labels.map &:description\n#=> [\"stone carving\", \"ancient history\", \"statue\"]"}],"params":[{"name":"images","types":["Image","Object"],"description":"The image or images to annotate. This can\nbe an <a data-custom-type=\"gcloud/vision/image\">Image</a> instance, or any other type that converts to an <a data-custom-type=\"gcloud/vision/image\">Image</a>.\nSee <a data-custom-type=\"gcloud/vision/project\" data-method=\"image-instance\">#image</a> for details.","optional":false,"nullable":false},{"name":"faces","types":["Boolean","Integer"],"description":"Whether to perform the facial detection\nfeature. The maximum number of results is configured in\n<a data-custom-type=\"gcloud/vision\" data-method=\"default_max_faces-class\">Gcloud::Vision.default_max_faces</a>, or may be provided here. Optional.","optional":true,"default":"false","nullable":false},{"name":"landmarks","types":["Boolean","Integer"],"description":"Whether to perform the landmark\ndetection feature. The maximum number of results is configured in\n<a data-custom-type=\"gcloud/vision\" data-method=\"default_max_landmarks-class\">Gcloud::Vision.default_max_landmarks</a>, or may be provided here.\nOptional.","optional":true,"default":"false","nullable":false},{"name":"logos","types":["Boolean","Integer"],"description":"Whether to perform the logo detection\nfeature. The maximum number of results is configured in\n<a data-custom-type=\"gcloud/vision\" data-method=\"default_max_logos-class\">Gcloud::Vision.default_max_logos</a>, or may be provided here. Optional.","optional":true,"default":"false","nullable":false},{"name":"labels","types":["Boolean","Integer"],"description":"Whether to perform the label detection\nfeature. The maximum number of results is configured in\n<a data-custom-type=\"gcloud/vision\" data-method=\"default_max_labels-class\">Gcloud::Vision.default_max_labels</a>, or may be provided here.\nOptional.","optional":true,"default":"false","nullable":false},{"name":"text","types":["Boolean"],"description":"Whether to perform the text (OCR) feature.\nOptional.","optional":true,"default":"false","nullable":false},{"name":"safe_search","types":["Boolean"],"description":"Whether to perform the safe search feature.\nOptional.","optional":true,"default":"false","nullable":false},{"name":"properties","types":["Boolean"],"description":"Whether to perform the image properties\nfeature (currently, the image’s dominant colors.) Optional.","optional":true,"default":"false","nullable":false},{"name":"yield","types":["block"],"description":"A block for requests that involve multiple feature\nconfigurations. See <a data-custom-type=\"gcloud/vision/annotate\" data-method=\"annotate-instance\">Annotate#annotate</a>.","optional":true,"nullable":false},{"name":"yield.annotate","types":["Annotate"],"description":"the Annotate object","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"gcloud/vision/annotation\">Annotation</a>","Array&lt;<a data-custom-type=\"gcloud/vision/annotation\">Annotation</a>&gt;"],"description":"The results for all image\ndetections, returned as a single <a data-custom-type=\"gcloud/vision/annotation\">Annotation</a> instance for one image,\nor as an array of <a data-custom-type=\"gcloud/vision/annotation\">Annotation</a> instances, one per image, for multiple\nimages."}]}]}