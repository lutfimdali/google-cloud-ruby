{"id":"document","metadata":{"name":"Document","description":"<h1 id=\"document\">Document</h1>\n\n<p>A document is an object that stores data that can be searched. Each\ndocument has a <a data-custom-type=\"#doc_id\">#doc_id</a> that is unique within its index, a <a data-custom-type=\"#rank\">#rank</a>, and a\nlist of <a data-custom-type=\"#fields\">#fields</a> that contain typed data. Its field values can be\naccessed through hash-like methods such as <a data-custom-type=\"#[]\">#[]</a> and <a data-custom-type=\"#each\">#each</a>.</p>","source":"lib/gcloud/search/document.rb#L46","resources":[{"title":"Documents and\nIndexes","link":"https://cloud.google.com/search/documents_indexes"}],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nsearch = gcloud.search\nindex = search.index \"products\"\n\ndocument = index.document \"product-sku-000001\"\ndocument.add \"price\", 24.95\nindex.save document\ndocument.rank #=> 1443648166\ndocument[\"price\"] #=> 24.95"}]},"methods":[{"metadata":{"name":"doc_id","description":"<p>The unique identifier for the document. Can be set explicitly when the\ndocument is saved. (See <a data-custom-type=\"search/index#document\">Index#document</a> and <a data-custom-type=\"search/document#doc_id=\">#doc_id=</a>.) If missing, it\nis automatically assigned to the document when saved.</p>","source":"lib/gcloud/search/document.rb#L59","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"doc_id=","description":"<p>Sets the unique identifier for the document.</p>\n\n<p>Must contain only visible, printable ASCII characters (ASCII codes 33\nthrough 126 inclusive) and be no longer than 500 characters. It cannot\nbegin with an exclamation point (<code>!</code>), and it cannot begin\nand end with double underscores (<code>__</code>).</p>","source":"lib/gcloud/search/document.rb#L70","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"rank","description":"<p>A positive integer which determines the default ordering of documents\nreturned from a search. The rank can be set explicitly when the document\nis saved. (See <a data-custom-type=\"search/index#document\">Index#document</a> and <a data-custom-type=\"search/document#rank=\">#rank=</a>.)  If missing, it is\nautomatically assigned to the document when saved.</p>","source":"lib/gcloud/search/document.rb#L79","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"rank=","description":"<p>Sets the rank of the document.</p>\n\n<p>The same rank should not be assigned to many documents, and should\nnever be assigned to more than 10,000 documents. By default (when it is\nnot specified or set to 0), it is set at the time the document is\ncreated to the number of seconds since January 1, 2011. The rank can be\nused in <a data-custom-type=\"search/index#search\">Index#search</a> options <code class=\"highlighter-rouge\">expressions</code>, <code class=\"highlighter-rouge\">order</code>, and\n<code class=\"highlighter-rouge\">fields</code>, where it is referenced as <code class=\"highlighter-rouge\">rank</code>.</p>","source":"lib/gcloud/search/document.rb#L92","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"[]","description":"<p>Retrieve the field values associated to a field name.</p>","source":"lib/gcloud/search/document.rb#L117","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nsearch = gcloud.search\nindex = search.index \"products\"\n\ndocument = index.document \"product-sku-000001\"\nputs \"The document description is:\"\ndocument[\"description\"].each do |value|\n  puts \"* #{value} (#{value.type}) [#{value.lang}]\"\nend"}]},"params":[{"name":"name","types":["String"],"description":"The name of the field. New values will be\nconfigured with this name.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["FieldValues"],"description":null}]},{"metadata":{"name":"fields","description":"<p>The fields in the document. Each field has a name (String) and a list of\nvalues (<a data-custom-type=\"search/fieldvalues\">FieldValues</a>). (See <a data-custom-type=\"search/fields\">Fields</a>)</p>","source":"lib/gcloud/search/document.rb#L126","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"add","description":"<p>Add a new value. If the field name does not exist it will be added. If\nthe field value is a DateTime or Numeric, or the type is set to\n<code class=\"highlighter-rouge\">:datetime</code> or <code class=\"highlighter-rouge\">:number</code>, then the added value will replace any existing\nvalues of the same type (since there can be only one).</p>","source":"lib/gcloud/search/document.rb#L177","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nsearch = gcloud.search\nindex = search.index \"products\"\n\ndocument = index.document \"product-sku-000001\"\ndocument.add \"sku\", \"product-sku-000001\", type: :atom\ndocument.add \"description\", \"The best T-shirt ever.\",\n             type: :text, lang: \"en\"\ndocument.add \"description\", \"<p>The best T-shirt ever.</p>\",\n             type: :html, lang: \"en\"\ndocument.add \"price\", 24.95"}]},"params":[{"name":"name","types":["String"],"description":"The name of the field.","optional":false,"nullable":false},{"name":"value","types":["String","Datetime","Float"],"description":"The value to add to the field.","optional":false,"nullable":false},{"name":"type","types":["Symbol"],"description":"The type of the field value. An attempt is made to\nset the correct type when this option is missing, although it must be\nprovided for <code class=\"highlighter-rouge\">:geo</code> values. A field can have multiple values with same\nor different types; however, it cannot have multiple <code class=\"highlighter-rouge\">:datetime</code> or\n<code class=\"highlighter-rouge\">:number</code> values.</p>\n\n<p>The following values are supported:\n* <code class=\"highlighter-rouge\">:default</code> - The value is a string. The format will be automatically\n  detected. This is the default value for strings.\n* <code class=\"highlighter-rouge\">:text</code> - The value is a string with maximum length 1024<strong>2\n  characters.\n* <code class=\"highlighter-rouge\">:html</code> - The value is an HTML-formatted string with maximum length\n  1024</strong>2 characters.\n* <code class=\"highlighter-rouge\">:atom</code> - The value is a string with maximum length 500 characters.\n* <code class=\"highlighter-rouge\">:geo</code> - The value is a point on earth described by latitude and\n  longitude coordinates, represented in string with any of the listed\n  <a href=\"http://en.wikipedia.org/wiki/Geographic_coordinate_conversion\">ways of writing coordinates</a>.\n* <code class=\"highlighter-rouge\">:datetime</code> - The value is a <code class=\"highlighter-rouge\">DateTime</code>.\n* <code class=\"highlighter-rouge\">:number</code> - The value is a <code class=\"highlighter-rouge\">Numeric</code> between -2,147,483,647 and\n  2,147,483,647. The value will be stored as a double precision\n  floating point value in Cloud Search.","optional":true,"default":"nil","nullable":true},{"name":"lang","types":["String"],"description":"The language of a string value. Must be a valid\n<a href=\"https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes\">ISO 639-1 code</a>.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[]},{"metadata":{"name":"delete","description":"<p>Deletes a field and all values. (See <a data-custom-type=\"search/fields#delete\">Fields#delete</a>)</p>","source":"lib/gcloud/search/document.rb#L196","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nsearch = gcloud.search\nindex = search.index \"products\"\n\ndocument = index.document \"product-sku-000001\"\ndocument.delete \"description\""}]},"params":[{"name":"name","types":["String"],"description":"The name of the field.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"metadata":{"name":"each","description":"<p>Calls block once for each field, passing the field name and values pair\nas parameters. If no block is given an enumerator is returned instead.\n(See <a data-custom-type=\"search/fields#each\">Fields#each</a>)</p>","source":"lib/gcloud/search/document.rb#L221","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nsearch = gcloud.search\nindex = search.index \"products\"\n\ndocument = index.document \"product-sku-000001\"\nputs \"The document #{document.doc_id} has the following fields:\"\ndocument.each do |name, values|\n  puts \"* #{name}:\"\n  values.each do |value|\n    puts \"  * #{value} (#{value.type})\"\n  end\nend"}]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"names","description":"<p>Returns a new array populated with all the field names.\n(See <a data-custom-type=\"search/fields#names\">Fields#names</a>)</p>","source":"lib/gcloud/search/document.rb#L242","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nsearch = gcloud.search\nindex = search.index \"products\"\n\ndocument = index.document \"product-sku-000001\"\nputs \"The document #{document.doc_id} has the following fields:\"\ndocument.names.each do |name|\n  puts \"* #{name}:\"\nend"}]},"params":[],"exceptions":[],"returns":[]}]}