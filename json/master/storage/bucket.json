{"id":"bucket","metadata":{"name":"Bucket","description":"<h1 id=\"bucket\">Bucket</h1>  <p>Represents a Storage bucket. Belongs to a Project and has many Files.</p>","source":"lib/gcloud/storage/bucket.rb#L38","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\n\nbucket = storage.bucket \"my-bucket\"\nfile = bucket.file \"path/to/my-file.ext\""}]},"methods":[{"metadata":{"name":"kind","description":"<p>The kind of item this is. For buckets, this is always <code class=\"highlighter-rouge\">storage#bucket</code>.</p>","source":"lib/gcloud/storage/bucket.rb#L57","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"id","description":"<p>The ID of the bucket.</p>","source":"lib/gcloud/storage/bucket.rb#L63","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"name","description":"<p>The name of the bucket.</p>","source":"lib/gcloud/storage/bucket.rb#L69","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"api_url","description":"<p>A URL that can be used to access the bucket using the REST API.</p>","source":"lib/gcloud/storage/bucket.rb#L75","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"created_at","description":"<p>Creation time of the bucket.</p>","source":"lib/gcloud/storage/bucket.rb#L81","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"cors","description":"<p>Returns the current CORS configuration for a static website served from the bucket.</p>  <p>The return value is a frozen (unmodifiable) array of hashes containing the attributes specified for the Bucket resource field <a href=\"https://cloud.google.com/storage/docs/json_api/v1/buckets#cors\">cors</a>.</p>  <p>This method also accepts a block for updating the bucket’s CORS rules. See <a data-custom-type=\"storage/bucket/cors\">Bucket::Cors</a> for details.</p>","source":"lib/gcloud/storage/bucket.rb#L130","resources":[{"title":"Cross-Origin Resource Sharing (CORS)","link":"https://cloud.google.com/storage/docs/cross-origin"}],"examples":[{"caption":"<p>Retrieving the bucket’s CORS rules.</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\n\nbucket = storage.bucket \"my-todo-app\"\nbucket.cors #=> [{\"origin\"=>[\"http://example.org\"],\n            #     \"method\"=>[\"GET\",\"POST\",\"DELETE\"],\n            #     \"responseHeader\"=>[\"X-My-Custom-Header\"],\n            #     \"maxAgeSeconds\"=>3600}]"},{"caption":"<p>Updating the bucket’s CORS rules inside a block.</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\nbucket = storage.bucket \"my-todo-app\"\n\nbucket.update do |b|\n  b.cors do |c|\n    c.add_rule [\"http://example.org\", \"https://example.org\"],\n               \"*\",\n               response_headers: [\"X-My-Custom-Header\"],\n               max_age: 3600\n  end\nend"}]},"params":[{"name":"yield","types":["block"],"description":"a block for setting CORS rules","optional":true,"nullable":false},{"name":"yield.cors","types":["Bucket::Cors"],"description":"the object accepting CORS rules","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"metadata":{"name":"cors=","description":"<p>Updates the CORS configuration for a static website served from the bucket.</p>  <p>Accepts an array of hashes containing the attributes specified for the <a href=\"https://cloud.google.com/storage/docs/json_api/v1/buckets#cors\">resource description of cors</a>.</p>","source":"lib/gcloud/storage/bucket.rb#L149","resources":[{"title":"Cross-Origin Resource Sharing (CORS)","link":"https://cloud.google.com/storage/docs/cross-origin"}],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"location","description":"<p>The location of the bucket. Object data for objects in the bucket resides in physical storage within this region. Defaults to US. See the developer’s guide for the authoritative list.</p>","source":"lib/gcloud/storage/bucket.rb#L160","resources":[{"title":null,"link":"https://cloud.google.com/storage/docs/concepts-techniques"}],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"logging_bucket","description":"<p>The destination bucket name for the bucket’s logs.</p>","source":"lib/gcloud/storage/bucket.rb#L169","resources":[{"title":"Access Logs","link":"https://cloud.google.com/storage/docs/access-logs"}],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"logging_bucket=","description":"<p>Updates the destination bucket for the bucket’s logs.</p>","source":"lib/gcloud/storage/bucket.rb#L180","resources":[{"title":"Access Logs","link":"https://cloud.google.com/storage/docs/access-logs"}],"examples":[]},"params":[{"name":"logging_bucket","types":["String"],"description":"The bucket to hold the logging output","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"metadata":{"name":"logging_prefix","description":"<p>The logging object prefix for the bucket’s logs. For more information,</p>","source":"lib/gcloud/storage/bucket.rb#L189","resources":[{"title":"Access Logs","link":"https://cloud.google.com/storage/docs/access-logs"}],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"logging_prefix=","description":"<p>Updates the logging object prefix. This prefix will be used to create log object names for the bucket. It can be at most 900 characters and must be a <a href=\"https://cloud.google.com/storage/docs/bucket-naming#objectnames\">valid object name</a>. By default, the object prefix is the name of the bucket for which the logs are enabled.</p>","source":"lib/gcloud/storage/bucket.rb#L203","resources":[{"title":"Access Logs","link":"https://cloud.google.com/storage/docs/access-logs"}],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"storage_class","description":"<p>The bucket’s storage class. This defines how objects in the bucket are stored and determines the SLA and the cost of storage. Values include <code class=\"highlighter-rouge\">STANDARD</code>, <code class=\"highlighter-rouge\">NEARLINE</code>, and <code class=\"highlighter-rouge\">DURABLE_REDUCED_AVAILABILITY</code>.</p>","source":"lib/gcloud/storage/bucket.rb#L211","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"versioning?","description":"<p>Whether <a href=\"https://cloud.google.com/storage/docs/object-versioning\">Object Versioning</a> is enabled for the bucket.</p>","source":"lib/gcloud/storage/bucket.rb#L219","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":null}]},{"metadata":{"name":"versioning=","description":"<p>Updates whether <a href=\"https://cloud.google.com/storage/docs/object-versioning\">Object Versioning</a> is enabled for the bucket.</p>","source":"lib/gcloud/storage/bucket.rb#L230","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":null}]},{"metadata":{"name":"website_main","description":"<p>The index page returned from a static website served from the bucket when a site visitor requests the top level directory.</p>","source":"lib/gcloud/storage/bucket.rb#L241","resources":[{"title":"How to Host a Static Website","link":"https://cloud.google.com/storage/docs/website-configuration#step4"}],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"website_main=","description":"<p>Updates the index page returned from a static website served from the bucket when a site visitor requests the top level directory.</p>","source":"lib/gcloud/storage/bucket.rb#L252","resources":[{"title":"How to Host a Static Website","link":"https://cloud.google.com/storage/docs/website-configuration#step4"}],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"website_404","description":"<p>The page returned from a static website served from the bucket when a site visitor requests a resource that does not exist.</p>","source":"lib/gcloud/storage/bucket.rb#L263","resources":[{"title":"How to Host a Static Website","link":"https://cloud.google.com/storage/docs/website-configuration#step4"}],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"website_404=","description":"<p>Updates the page returned from a static website served from the bucket when a site visitor requests a resource that does not exist.</p>","source":"lib/gcloud/storage/bucket.rb#L274","resources":[{"title":"How to Host a Static Website","link":"https://cloud.google.com/storage/docs/website-configuration#step4"}],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"update","description":"<p>Updates the bucket with changes made in the given block in a single PATCH request. The following attributes may be set: <a data-custom-type=\"storage/bucket#cors=\">#cors=</a>, <a data-custom-type=\"storage/bucket#logging_bucket=\">#logging_bucket=</a>, <a data-custom-type=\"storage/bucket#logging_prefix=\">#logging_prefix=</a>, <a data-custom-type=\"storage/bucket#versioning=\">#versioning=</a>, <a data-custom-type=\"storage/bucket#website_main=\">#website_main=</a>, and <a data-custom-type=\"storage/bucket#website_404=\">#website_404=</a>. In addition, the #cors configuration accessible in the block is completely mutable and will be included in the request. (See <a data-custom-type=\"storage/bucket/cors\">Bucket::Cors</a>)</p>","source":"lib/gcloud/storage/bucket.rb#L318","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\n\nbucket = storage.bucket \"my-bucket\"\nbucket.update do |b|\n  b.website_main = \"index.html\"\n  b.website_404 = \"not_found.html\"\n  b.cors[0][\"method\"] = [\"GET\",\"POST\",\"DELETE\"]\n  b.cors[1][\"responseHeader\"] << \"X-Another-Custom-Header\"\nend"},{"caption":"<p>New CORS rules can also be added in a nested block:</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\nbucket = storage.bucket \"my-todo-app\"\n\nbucket.update do |b|\n  b.cors do |c|\n    c.add_rule [\"http://example.org\", \"https://example.org\"],\n               \"*\",\n               response_headers: [\"X-My-Custom-Header\"],\n               max_age: 300\n  end\nend"}]},"params":[{"name":"yield","types":["block"],"description":"a block yielding a delegate object for updating the file","optional":true,"nullable":false}],"exceptions":[],"returns":[]},{"metadata":{"name":"delete","description":"<p>Permanently deletes the bucket. The bucket must be empty before it can be deleted.</p>  <p>The API call to delete the bucket may be retried under certain conditions. See <a data-custom-type=\"backoff\">Gcloud::Backoff</a> to control this behavior, or specify the wanted behavior using the <code class=\"highlighter-rouge\">retries</code> option.</p>","source":"lib/gcloud/storage/bucket.rb#L355","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\n\nbucket = storage.bucket \"my-bucket\"\nbucket.delete"},{"caption":"<p>Specify the number of retries to attempt:</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\n\nbucket = storage.bucket \"my-bucket\"\nbucket.delete retries: 5"}]},"params":[{"name":"retries","types":["Integer"],"description":"The number of times the API call should be retried. Default is Gcloud::Backoff.retries.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["Boolean"],"description":"Returns <code class=\"highlighter-rouge\">true</code> if the bucket was deleted."}]},{"metadata":{"name":"files","description":"<p>Retrieves a list of files matching the criteria.</p>","source":"lib/gcloud/storage/bucket.rb#L422","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\n\nbucket = storage.bucket \"my-bucket\"\nfiles = bucket.files\nfiles.each do |file|\n  puts file.name\nend"},{"caption":"<p>With pagination: (See <a data-custom-type=\"storage/file/list#token\">File::List#token</a>)</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\n\nbucket = storage.bucket \"my-bucket\"\n\nall_files = []\ntmp_files = bucket.files\nwhile tmp_files.any? do\n  tmp_files.each do |file|\n    all_files << file\n  end\n  # break loop if no more buckets available\n  break if tmp_files.token.nil?\n  # get the next group of files\n  tmp_files = bucket.files token: tmp_files.token\nend"}]},"params":[{"name":"prefix","types":["String"],"description":"Filter results to files whose names begin with this prefix.","optional":true,"default":"nil","nullable":true},{"name":"delimiter","types":["String"],"description":"Returns results in a directory-like mode. <code class=\"highlighter-rouge\">items</code> will contain only objects whose names, aside from the <code class=\"highlighter-rouge\">prefix</code>, do not contain <code class=\"highlighter-rouge\">delimiter</code>. Objects whose names, aside from the <code class=\"highlighter-rouge\">prefix</code>, contain <code class=\"highlighter-rouge\">delimiter</code> will have their name, truncated after the <code class=\"highlighter-rouge\">delimiter</code>, returned in <code class=\"highlighter-rouge\">prefixes</code>. Duplicate <code class=\"highlighter-rouge\">prefixes</code> are omitted.","optional":true,"default":"nil","nullable":true},{"name":"token","types":["String"],"description":"A previously-returned page token representing part of the larger set of results to view.","optional":true,"default":"nil","nullable":true},{"name":"max","types":["Integer"],"description":"Maximum number of items plus prefixes to return. As duplicate prefixes are omitted, fewer total results may be returned than requested. The default value of this parameter is 1,000 items.","optional":true,"default":"nil","nullable":true},{"name":"versions","types":["Boolean"],"description":"If <code class=\"highlighter-rouge\">true</code>, lists all versions of an object as distinct results. The default is <code class=\"highlighter-rouge\">false</code>. For more information, see <a href=\"https://cloud.google.com/storage/docs/object-versioning\">Object Versioning </a>.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["Array<Gcloud::Storage::File>"],"description":"(See <a data-custom-type=\"storage/file/list\">Gcloud::Storage::File::List</a>)"}]},{"metadata":{"name":"file","description":"<p>Retrieves a file matching the path.</p>","source":"lib/gcloud/storage/bucket.rb#L460","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\n\nbucket = storage.bucket \"my-bucket\"\n\nfile = bucket.file \"path/to/my-file.ext\"\nputs file.name"}]},"params":[{"name":"path","types":["String"],"description":"Name (path) of the file.","optional":false,"nullable":false},{"name":"generation","types":["Integer"],"description":"When present, selects a specific revision of this object. Default is the latest version.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["Gcloud::Storage::File","nil"],"description":"Returns nil if file does not exist"}]},{"metadata":{"name":"create_file","description":"<p>Create a new File object by providing a path to a local file to upload and the path to store it with in the bucket.</p>  <p>A <code class=\"highlighter-rouge\">chunk_size</code> value can be provided in the options to be used in resumable uploads. This value is the number of bytes per chunk and must be divisible by 256KB. If it is not divisible by 256KB then it will be lowered to the nearest acceptable value.</p>  <h4 id=\"troubleshooting-large-uploads\">Troubleshooting large uploads</h4>  <p>You may encounter errors while attempting to upload large files. Below are a couple of common cases and their solutions.</p>  <h5 id=\"handling-memory-errors\">Handling memory errors</h5>  <p>If you encounter a memory error such as <code class=\"highlighter-rouge\">NoMemoryError</code>, try performing a resumable upload and setting the <code class=\"highlighter-rouge\">chunk_size</code> option to a value that works for your environment, as explained in the final example above.</p>  <h5 id=\"handling-broken-pipe-errors\">Handling broken pipe errors</h5>  <p>To avoid broken pipe (<code class=\"highlighter-rouge\">Errno::EPIPE</code>) errors when uploading, add the <a href=\"https://rubygems.org/gems/httpclient\">httpclient</a> gem to your project, and the configuration shown below. These lines must execute after you require gcloud but before you make your first gcloud connection. The first statement configures <a href=\"https://rubygems.org/gems/faraday\">Faraday</a> to use httpclient. The second statement, which should only be added if you are using a version of Faraday at or above 0.9.2, is a workaround for <a href=\"https://github.com/GoogleCloudPlatform/gcloud-ruby/issues/367\">this gzip issue</a>.</p>","source":"lib/gcloud/storage/bucket.rb#L606","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\n\nbucket = storage.bucket \"my-bucket\"\n\nbucket.create_file \"path/to/local.file.ext\""},{"caption":"<p>Additionally, a destination path can be specified.</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\n\nbucket = storage.bucket \"my-bucket\"\n\nbucket.create_file \"path/to/local.file.ext\",\n                   \"destination/path/file.ext\""},{"caption":"<p>Specify the chunk size as a number of bytes:</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\n\nbucket = storage.bucket \"my-bucket\"\n\nbucket.create_file \"path/to/local.file.ext\",\n                   \"destination/path/file.ext\",\n                   chunk_size: 1024*1024 # 1 MB chunk"},{"caption":"","code":"require \"gcloud\"\n\n# Use httpclient to avoid broken pipe errors with large uploads\nFaraday.default_adapter = :httpclient\n\n# Only add the following statement if using Faraday >= 0.9.2\n# Override gzip middleware with no-op for httpclient\nFaraday::Response.register_middleware :gzip =>\n                                        Faraday::Response::Middleware\n\ngcloud = Gcloud.new\nstorage = gcloud.storage"}]},"params":[{"name":"file","types":["String"],"description":"Path of the file on the filesystem to upload.","optional":false,"nullable":false},{"name":"path","types":["String"],"description":"Path to store the file in Google Cloud Storage.","optional":true,"default":"nil","nullable":true},{"name":"acl","types":["String"],"description":"A predefined set of access controls to apply to this file.</p>  <p>Acceptable values are: * <code class=\"highlighter-rouge\">auth</code>, <code class=\"highlighter-rouge\">auth_read</code>, <code class=\"highlighter-rouge\">authenticated</code>, <code class=\"highlighter-rouge\">authenticated_read</code>,   <code class=\"highlighter-rouge\">authenticatedRead</code> - File owner gets OWNER access, and   allAuthenticatedUsers get READER access. * <code class=\"highlighter-rouge\">owner_full</code>, <code class=\"highlighter-rouge\">bucketOwnerFullControl</code> - File owner gets OWNER   access, and project team owners get OWNER access. * <code class=\"highlighter-rouge\">owner_read</code>, <code class=\"highlighter-rouge\">bucketOwnerRead</code> - File owner gets OWNER access, and   project team owners get READER access. * <code class=\"highlighter-rouge\">private</code> - File owner gets OWNER access. * <code class=\"highlighter-rouge\">project_private</code>, <code class=\"highlighter-rouge\">projectPrivate</code> - File owner gets OWNER access,   and project team members get access according to their roles. * <code class=\"highlighter-rouge\">public</code>, <code class=\"highlighter-rouge\">public_read</code>, <code class=\"highlighter-rouge\">publicRead</code> - File owner gets OWNER   access, and allUsers get READER access.","optional":true,"default":"nil","nullable":true},{"name":"cache_control","types":["String"],"description":"The <a href=\"https://tools.ietf.org/html/rfc7234#section-5.2\">Cache-Control</a> response header to be returned when the file is downloaded.","optional":true,"default":"nil","nullable":true},{"name":"content_disposition","types":["String"],"description":"The <a href=\"https://tools.ietf.org/html/rfc6266\">Content-Disposition</a> response header to be returned when the file is downloaded.","optional":true,"default":"nil","nullable":true},{"name":"content_encoding","types":["String"],"description":"The <a href=\"https://tools.ietf.org/html/rfc7231#section-3.1.2.2\">Content-Encoding </a> response header to be returned when the file is downloaded.","optional":true,"default":"nil","nullable":true},{"name":"content_language","types":["String"],"description":"The <a href=\"http://tools.ietf.org/html/bcp47\">Content-Language</a> response header to be returned when the file is downloaded.","optional":true,"default":"nil","nullable":true},{"name":"content_type","types":["String"],"description":"The <a href=\"https://tools.ietf.org/html/rfc2616#section-14.17\">Content-Type</a> response header to be returned when the file is downloaded.","optional":true,"default":"nil","nullable":true},{"name":"chunk_size","types":["Integer"],"description":"The number of bytes per chunk in a resumable upload. Must be divisible by 256KB. If it is not divisible by 265KB then it will be lowered to the nearest acceptable value.","optional":true,"default":"nil","nullable":true},{"name":"crc32c","types":["String"],"description":"The CRC32c checksum of the file data, as described in <a href=\"http://tools.ietf.org/html/rfc4960#appendix-B\">RFC 4960, Appendix B</a>. If provided, Cloud Storage will only create the file if the value matches the value calculated by the service. See <a href=\"https://cloud.google.com/storage/docs/hashes-etags\">Validation</a> for more information.","optional":true,"default":"nil","nullable":true},{"name":"md5","types":["String"],"description":"The MD5 hash of the file data. If provided, Cloud Storage will only create the file if the value matches the value calculated by the service. See <a href=\"https://cloud.google.com/storage/docs/hashes-etags\">Validation</a> for more information.","optional":true,"default":"nil","nullable":true},{"name":"metadata","types":["Hash"],"description":"A hash of custom, user-provided web-safe keys and arbitrary string values that will returned with requests for the file as “x-goog-meta-“ response headers.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["Gcloud::Storage::File"],"description":null}]},{"metadata":{"name":"acl","description":"<p>The Bucket::Acl instance used to control access to the bucket.</p>  <p>A bucket has owners, writers, and readers. Permissions can be granted to an individual user’s email address, a group’s email address, as well as many predefined lists.</p>","source":"lib/gcloud/storage/bucket.rb#L668","resources":[{"title":"Access Control guide","link":"https://cloud.google.com/storage/docs/access-control"}],"examples":[{"caption":"<p>Grant access to a user by pre-pending <code class=\"highlighter-rouge\">\"user-\"</code> to an email:</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\n\nbucket = storage.bucket \"my-todo-app\"\n\nemail = \"heidi@example.net\"\nbucket.acl.add_reader \"user-#{email}\""},{"caption":"<p>Grant access to a group by pre-pending <code class=\"highlighter-rouge\">\"group-\"</code> to an email:</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\n\nbucket = storage.bucket \"my-todo-app\"\n\nemail = \"authors@example.net\"\nbucket.acl.add_reader \"group-#{email}\""},{"caption":"<p>Or, grant access via a predefined permissions list:</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\n\nbucket = storage.bucket \"my-todo-app\"\n\nbucket.acl.public!"}]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"default_acl","description":"<p>The Bucket::DefaultAcl instance used to control access to the bucket’s files.</p>  <p>A bucket’s files have owners, writers, and readers. Permissions can be granted to an individual user’s email address, a group’s email address, as well as many predefined lists.</p>","source":"lib/gcloud/storage/bucket.rb#L715","resources":[{"title":"Access Control guide","link":"https://cloud.google.com/storage/docs/access-control"}],"examples":[{"caption":"<p>Grant access to a user by pre-pending <code class=\"highlighter-rouge\">\"user-\"</code> to an email:</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\n\nbucket = storage.bucket \"my-todo-app\"\n\nemail = \"heidi@example.net\"\nbucket.default_acl.add_reader \"user-#{email}\""},{"caption":"<p>Grant access to a group by pre-pending <code class=\"highlighter-rouge\">\"group-\"</code> to an email</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\n\nbucket = storage.bucket \"my-todo-app\"\n\nemail = \"authors@example.net\"\nbucket.default_acl.add_reader \"group-#{email}\""},{"caption":"<p>Or, grant access via a predefined permissions list:</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\n\nbucket = storage.bucket \"my-todo-app\"\n\nbucket.default_acl.public!"}]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"reload!","description":"<p>Reloads the bucket with current data from the Storage service.</p>","source":"lib/gcloud/storage/bucket.rb#L721","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"ensure_connection!","description":"<p>Raise an error unless an active connection is available.</p>","source":"lib/gcloud/storage/bucket.rb#L745","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"patch_gapi!","description":"","source":"lib/gcloud/storage/bucket.rb#L749","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"ensure_file_exists!","description":"<p>Raise an error if the file is not found.</p>","source":"lib/gcloud/storage/bucket.rb#L761","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"deep_dup_and_freeze","description":"<p>Given nil, empty array, a gapi array of hashes, or any value, returns a deeply dup’d and frozen array of simple hashes or values (not gapi objects.)</p>","source":"lib/gcloud/storage/bucket.rb#L776","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]}]}