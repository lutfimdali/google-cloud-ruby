{"id":"gcloud/bigquery/job","name":"Job","title":["Gcloud","Bigquery","Job"],"description":"<h1 id=\"job\">Job</h1>\n\n<p>Represents a generic Job that may be performed on a <a data-custom-type=\"gcloud/bigquery/table\">Table</a>.</p>\n\n<p>The subclasses of Job represent the specific BigQuery job types:\n<a data-custom-type=\"gcloud/bigquery/copyjob\">CopyJob</a>, <a data-custom-type=\"gcloud/bigquery/extractjob\">ExtractJob</a>, <a data-custom-type=\"gcloud/bigquery/loadjob\">LoadJob</a>, and <a data-custom-type=\"gcloud/bigquery/queryjob\">QueryJob</a>.</p>\n\n<p>A job instance is created when you call <a data-custom-type=\"gcloud/bigquery/project#query_job\">Project#query_job</a>,\n<a data-custom-type=\"gcloud/bigquery/dataset#query_job\">Dataset#query_job</a>, <a data-custom-type=\"gcloud/bigquery/table#copy\">Table#copy</a>, <a data-custom-type=\"gcloud/bigquery/table#extract\">Table#extract</a>, <a data-custom-type=\"gcloud/bigquery/table#load\">Table#load</a>, or\n<a data-custom-type=\"gcloud/bigquery/view#data\">View#data</a>.</p>","source":"lib/gcloud/bigquery/job.rb#L56","resources":[{"title":"Managing Jobs, Datasets, and Projects","link":"https://cloud.google.com/bigquery/docs/managing_jobs_datasets_projects"},{"title":"Jobs API\nreference","link":"https://cloud.google.com/bigquery/docs/reference/v2/jobs"}],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nbigquery = gcloud.bigquery\n\nq = \"SELECT COUNT(word) as count FROM publicdata:samples.shakespeare\"\njob = bigquery.query_job q\n\njob.wait_until_done!\n\nif job.failed?\n  puts job.error\nelse\n  puts job.query_results.first\nend"}],"methods":[{"id":"gcloud/bigquery/job#job_id","name":"job_id","title":["Gcloud","Bigquery","Job#job_id"],"description":"<p>The ID of the job.</p>","source":"lib/gcloud/bigquery/job.rb#L74","type":"instance","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"gcloud/bigquery/job#project_id","name":"project_id","title":["Gcloud","Bigquery","Job#project_id"],"description":"<p>The ID of the project containing the job.</p>","source":"lib/gcloud/bigquery/job.rb#L80","type":"instance","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"gcloud/bigquery/job#state","name":"state","title":["Gcloud","Bigquery","Job#state"],"description":"<p>The current state of the job. The possible values are <code class=\"highlighter-rouge\">PENDING</code>,\n<code class=\"highlighter-rouge\">RUNNING</code>, and <code class=\"highlighter-rouge\">DONE</code>. A <code class=\"highlighter-rouge\">DONE</code> state does not mean that the job\ncompleted successfully. Use <a data-custom-type=\"gcloud/bigquery/job#failed?\">#failed?</a> to discover if an error occurred\nor if the job was successful.</p>","source":"lib/gcloud/bigquery/job.rb#L89","type":"instance","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"gcloud/bigquery/job#running?","name":"running?","title":["Gcloud","Bigquery","Job#running?"],"description":"<p>Checks if the job’s state is <code class=\"highlighter-rouge\">RUNNING</code>.</p>","source":"lib/gcloud/bigquery/job.rb#L96","type":"instance","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":null}]},{"id":"gcloud/bigquery/job#pending?","name":"pending?","title":["Gcloud","Bigquery","Job#pending?"],"description":"<p>Checks if the job’s state is <code class=\"highlighter-rouge\">PENDING</code>.</p>","source":"lib/gcloud/bigquery/job.rb#L103","type":"instance","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":null}]},{"id":"gcloud/bigquery/job#done?","name":"done?","title":["Gcloud","Bigquery","Job#done?"],"description":"<p>Checks if the job’s state is <code class=\"highlighter-rouge\">DONE</code>. When <code class=\"highlighter-rouge\">true</code>, the job has stopped\nrunning. However, a <code class=\"highlighter-rouge\">DONE</code> state does not mean that the job completed\nsuccessfully.  Use <a data-custom-type=\"gcloud/bigquery/job#failed?\">#failed?</a> to detect if an error occurred or if the\njob was successful.</p>","source":"lib/gcloud/bigquery/job.rb#L113","type":"instance","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":null}]},{"id":"gcloud/bigquery/job#failed?","name":"failed?","title":["Gcloud","Bigquery","Job#failed?"],"description":"<p>Checks if an error is present.</p>","source":"lib/gcloud/bigquery/job.rb#L120","type":"instance","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":null}]},{"id":"gcloud/bigquery/job#created_at","name":"created_at","title":["Gcloud","Bigquery","Job#created_at"],"description":"<p>The time when the job was created.</p>","source":"lib/gcloud/bigquery/job.rb#L126","type":"instance","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"gcloud/bigquery/job#started_at","name":"started_at","title":["Gcloud","Bigquery","Job#started_at"],"description":"<p>The time when the job was started.\nThis field is present after the job’s state changes from <code class=\"highlighter-rouge\">PENDING</code>\nto either <code class=\"highlighter-rouge\">RUNNING</code> or <code class=\"highlighter-rouge\">DONE</code>.</p>","source":"lib/gcloud/bigquery/job.rb#L136","type":"instance","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"gcloud/bigquery/job#ended_at","name":"ended_at","title":["Gcloud","Bigquery","Job#ended_at"],"description":"<p>The time when the job ended.\nThis field is present when the job’s state is <code class=\"highlighter-rouge\">DONE</code>.</p>","source":"lib/gcloud/bigquery/job.rb#L145","type":"instance","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"gcloud/bigquery/job#configuration","name":"configuration","title":["Gcloud","Bigquery","Job#configuration"],"description":"<p>The configuration for the job. Returns a hash.</p>","source":"lib/gcloud/bigquery/job.rb#L156","type":"instance","resources":[{"title":"Jobs API\nreference","link":"https://cloud.google.com/bigquery/docs/reference/v2/jobs"}],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"gcloud/bigquery/job#statistics","name":"statistics","title":["Gcloud","Bigquery","Job#statistics"],"description":"<p>The statistics for the job. Returns a hash.</p>","source":"lib/gcloud/bigquery/job.rb#L168","type":"instance","resources":[{"title":"Jobs API\nreference","link":"https://cloud.google.com/bigquery/docs/reference/v2/jobs"}],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"gcloud/bigquery/job#status","name":"status","title":["Gcloud","Bigquery","Job#status"],"description":"<p>The job’s status. Returns a hash. The values contained in the hash are\nalso exposed by <a data-custom-type=\"gcloud/bigquery/job#state\">#state</a>, <a data-custom-type=\"gcloud/bigquery/job#error\">#error</a>, and <a data-custom-type=\"gcloud/bigquery/job#errors\">#errors</a>.</p>","source":"lib/gcloud/bigquery/job.rb#L178","type":"instance","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"gcloud/bigquery/job#error","name":"error","title":["Gcloud","Bigquery","Job#error"],"description":"<p>The last error for the job, if any errors have occurred. Returns a\nhash.</p>","source":"lib/gcloud/bigquery/job.rb#L198","type":"instance","resources":[{"title":"Jobs API\nreference","link":"https://cloud.google.com/bigquery/docs/reference/v2/jobs"}],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Hash"],"description":"Returns a hash containing <code class=\"highlighter-rouge\">reason</code> and <code class=\"highlighter-rouge\">message</code> keys:</p>\n\n<p>{\n  “reason”=&gt;”notFound”,\n  “message”=&gt;”Not found: Table publicdata:samples.BAD_ID”\n}"}]},{"id":"gcloud/bigquery/job#errors","name":"errors","title":["Gcloud","Bigquery","Job#errors"],"description":"<p>The errors for the job, if any errors have occurred. Returns an array\nof hash objects. See <a data-custom-type=\"gcloud/bigquery/job#error\">#error</a>.</p>","source":"lib/gcloud/bigquery/job.rb#L205","type":"instance","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"gcloud/bigquery/job#rerun!","name":"rerun!","title":["Gcloud","Bigquery","Job#rerun!"],"description":"<p>Created a new job with the current configuration.</p>","source":"lib/gcloud/bigquery/job.rb#L211","type":"instance","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"gcloud/bigquery/job#reload!","name":"reload!","title":["Gcloud","Bigquery","Job#reload!"],"description":"<p>Reloads the job with current data from the BigQuery service.</p>","source":"lib/gcloud/bigquery/job.rb#L223","type":"instance","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"gcloud/bigquery/job#wait_until_done!","name":"wait_until_done!","title":["Gcloud","Bigquery","Job#wait_until_done!"],"description":"<p>Refreshes the job until the job is <code class=\"highlighter-rouge\">DONE</code>.\nThe delay between refreshes will incrementally increase.</p>","source":"lib/gcloud/bigquery/job.rb#L250","type":"instance","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nbigquery = gcloud.bigquery\ndataset = bigquery.dataset \"my_dataset\"\ntable = dataset.table \"my_table\"\n\nextract_job = table.extract \"gs://my-bucket/file-name.json\",\n                            format: \"json\"\nextract_job.wait_until_done!\nextract_job.done? #=> true"}],"params":[],"exceptions":[],"returns":[]}]}