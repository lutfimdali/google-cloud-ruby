{"id":"gcloud/storage/bucket/cors","name":"Cors","title":["Gcloud","Storage","Bucket","Cors"],"description":"<h1 id=\"bucket-cors\">Bucket Cors</h1>\n\n<p>A special-case Array for managing the website CORS rules for a bucket.\nAccessed via a block argument to <a data-custom-type=\"gcloud/storage/project\" data-method=\"create_bucket-instance\">Project#create_bucket</a>, <a data-custom-type=\"gcloud/storage/bucket\" data-method=\"cors-instance\">Bucket#cors</a>,\nor <a data-custom-type=\"gcloud/storage/bucket\" data-method=\"update-instance\">Bucket#update</a>.</p>","source":"lib/gcloud/storage/bucket/cors.rb#L49","resources":[{"title":"Cross-Origin\nResource Sharing (CORS)","link":"https://cloud.google.com/storage/docs/cross-origin"}],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\nbucket = storage.bucket \"my-todo-app\"\n\nbucket.cors do |c|\n  # Remove the last CORS rule from the array\n  c.pop\n  # Remove all existing rules with the https protocol\n  c.delete_if { |r| r[\"origin\"].include? \"http://example.com\" }\n  c.add_rule [\"http://example.org\", \"https://example.org\"],\n             [\"GET\", \"POST\", \"DELETE\"],\n             response_headers: [\"X-My-Custom-Header\"],\n             max_age: 3600\nend"}],"methods":[{"id":"add_rule-instance","type":"instance","name":"add_rule","title":["Gcloud","Storage","Bucket","Cors#add_rule"],"description":"<p>Add a CORS rule to the CORS rules for a bucket. Accepts options for\nsetting preflight response headers. Preflight requests and responses\nare required if the request method and headers are not both <a href=\"http://www.w3.org/TR/cors/#simple-method\">simple\nmethods</a> and <a href=\"http://www.w3.org/TR/cors/#simple-header\">simple\nheaders</a>.</p>","source":"lib/gcloud/storage/bucket/cors.rb#L100","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nstorage = gcloud.storage\n\nbucket = storage.create_bucket \"my-bucket\" do |c|\n  c.add_rule [\"http://example.org\", \"https://example.org\"],\n             \"*\",\n             response_headers: [\"X-My-Custom-Header\"],\n             max_age: 300\nend"}],"params":[{"name":"origin","types":["String","Array<String>"],"description":"The\n<a href=\"http://tools.ietf.org/html/rfc6454\">origin</a> or origins permitted\nfor cross origin resource sharing with the bucket. Note: “*” is\npermitted in the list of origins, and means “any Origin”.","optional":false,"nullable":false},{"name":"methods","types":["String","Array<String>"],"description":"The list of HTTP methods\npermitted in cross origin resource sharing with the bucket. (GET,\nOPTIONS, POST, etc) Note: “*” is permitted in the list of methods,\nand means “any method”.","optional":false,"nullable":false},{"name":"headers","types":["String","Array<String>"],"description":"The list of header field names\nto send in the Access-Control-Allow-Headers header in the preflight\nresponse. Indicates the custom request headers that may be used in\nthe actual request.","optional":true,"default":"nil","nullable":true},{"name":"max_age","types":["Integer"],"description":"The value to send in the\nAccess-Control-Max-Age header in the preflight response. Indicates\nhow many seconds the results of a preflight request can be cached in\na preflight result cache. The default value is <code>1800</code> (30 minutes.)","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[]}]}