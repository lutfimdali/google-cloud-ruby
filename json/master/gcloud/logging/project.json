{"id":"gcloud/logging/project","name":"Project","title":["Gcloud","Logging","Project"],"description":"<h1 id=\"project\">Project</h1>\n\n<p>Projects are top-level containers in Google Cloud Platform. They store\ninformation about billing and authorized users, and they control access to\nGoogle Cloud Logging resources. Each project has a friendly name and a\nunique ID. Projects can be created only in the <a href=\"https://console.developers.google.com\">Google Developers\nConsole</a>. See <a data-custom-type=\"gcloud#logging\">Gcloud#logging</a>.</p>\n\n<p>See Gcloud#logging</p>","source":"lib/gcloud/logging/project.rb#L45","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\nentries = logging.entries"}],"methods":[{"name":"project","title":["Gcloud","Logging","Project#project"],"description":"<p>The ID of the current project.</p>","source":"lib/gcloud/logging/project.rb#L71","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new \"my-project\", \"/path/to/keyfile.json\"\nlogging = gcloud.logging\n\nlogging.project #=> \"my-project\""}],"params":[],"exceptions":[],"returns":[{"types":["String"],"description":"the Google Cloud project ID"}]},{"name":"entries","title":["Gcloud","Logging","Project#entries"],"description":"<p>Lists log entries. Use this method to retrieve log entries from Cloud\nLogging.</p>","source":"lib/gcloud/logging/project.rb#L149","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\nentries = logging.entries\nentries.each do |e|\n  puts \"[#{e.timestamp}] #{e.log_name} #{e.payload.inspect}\"\nend"},{"caption":"<p>You can use a filter to narrow results to a single log.</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\nentries = logging.entries filter: \"log:syslog\"\nentries.each do |e|\n  puts \"[#{e.timestamp}] #{e.payload.inspect}\"\nend"},{"caption":"<p>You can also order the results by timestamp.</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\nentries = logging.entries order: \"timestamp desc\"\nentries.each do |e|\n  puts \"[#{e.timestamp}] #{e.log_name} #{e.payload.inspect}\"\nend"},{"caption":"<p>With pagination: (See <a data-custom-type=\"gcloud/logging/entry/list\">Gcloud::Logging::Entry::List</a>)</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\nentries = logging.entries\nloop do\n  entries.each do |e|\n    puts \"[#{e.timestamp}] #{e.log_name} #{e.payload.inspect}\"\n  end\n  break unless entries.next?\n  entries = entries.next\nend"}],"params":[{"name":"projects","types":["String","Array"],"description":"One or more project IDs or project\nnumbers from which to retrieve log entries. If <code class=\"highlighter-rouge\">nil</code>, the ID of the\nreceiving project instance will be used.","optional":true,"default":"nil","nullable":true},{"name":"filter","types":["String"],"description":"An <a href=\"https://cloud.google.com/logging/docs/view/advanced_filters\">advanced logs\nfilter</a>.\nThe filter is compared against all log entries in the projects\nspecified by <code class=\"highlighter-rouge\">projects</code>. Only entries that match the filter are\nretrieved. An empty filter matches all log entries.","optional":true,"default":"nil","nullable":true},{"name":"order","types":["String"],"description":"How the results should be sorted. Presently, the\nonly permitted values are “timestamp” (default) and “timestamp desc”.","optional":true,"default":"nil","nullable":true},{"name":"token","types":["String"],"description":"A previously-returned page token representing part\nof the larger set of results to view.","optional":true,"default":"nil","nullable":true},{"name":"max","types":["Integer"],"description":"Maximum number of entries to return.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"gcloud/logging/entry\">Gcloud::Logging::Entry</a>&gt;"],"description":"(See\n<a data-custom-type=\"gcloud/logging/entry/list\">Gcloud::Logging::Entry::List</a>)"}]},{"name":"entry","title":["Gcloud","Logging","Project#entry"],"description":"<p>Creates an new Entry instance that may be populated and written to the\nCloud Logging service. The <a data-custom-type=\"gcloud/logging/entry#resource\">Entry#resource</a> attribute is pre-populated\nwith a new <a data-custom-type=\"gcloud/logging/resource\">Gcloud::Logging::Resource</a> instance. Equivalent to calling\n<code class=\"highlighter-rouge\">Gcloud::Logging::Entry.new</code>.</p>","source":"lib/gcloud/logging/project.rb#L180","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\n\nentry = logging.entry\nentry.severity = :INFO\nentry.payload = \"Job started.\"\n\nlogging.write_entries entry"}],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"gcloud/logging/entry\">Gcloud::Logging::Entry</a>"],"description":"a new Entry instance"}]},{"name":"write_entries","title":["Gcloud","Logging","Project#write_entries"],"description":"<p>Writes log entries to the Cloud Logging service.</p>\n\n<p>If you write a collection of log entries, you can provide the log name,\nresource, and/or labels hash to be used for all of the entries, and omit\nthese values from the individual entries.</p>","source":"lib/gcloud/logging/project.rb#L244","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\n\nentry = logging.entry\nentry.payload = \"Job started.\"\nentry.log_name = \"my_app_log\"\nentry.resource.type = \"gae_app\"\nentry.resource.labels[:module_id] = \"1\"\nentry.resource.labels[:version_id] = \"20150925t173233\"\n\nlogging.write_entries entry"},{"caption":"<p>Optionally pass log name, resource, and labels for all entries.</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\n\nentry1 = logging.entry\nentry1.payload = \"Job started.\"\nentry2 = logging.entry\nentry2.payload = \"Job completed.\"\nlabels = { job_size: \"large\", job_code: \"red\" }\n\nresource = logging.resource \"gae_app\",\n                            \"module_id\" => \"1\",\n                            \"version_id\" => \"20150925t173233\"\n\nlogging.write_entries [entry1, entry2],\n                      log_name: \"my_app_log\",\n                      resource: resource,\n                      labels: labels"}],"params":[{"name":"entries","types":["Gcloud::Logging::Entry","Array<Gcloud::Logging::Entry>"],"description":"One or more entry objects to write. The log entries must have values\nfor all required fields.","optional":false,"nullable":false},{"name":"log_name","types":["String"],"description":"A default log ID for those log entries in\n<code class=\"highlighter-rouge\">entries</code> that do not specify their own <code class=\"highlighter-rouge\">log_name</code>. See also\n<a data-custom-type=\"gcloud/logging/entry#log_name=\">Entry#log_name=</a>.","optional":true,"default":"nil","nullable":true},{"name":"resource","types":["Resource"],"description":"A default monitored resource for those log\nentries in entries that do not specify their own resource. See also\n<a data-custom-type=\"gcloud/logging/entry#resource\">Entry#resource</a>.","optional":true,"default":"nil","nullable":true},{"name":"labels","types":["Hash{Symbol,String => String}"],"description":"User-defined <code class=\"highlighter-rouge\">key:value</code>\nitems that are added to the <code class=\"highlighter-rouge\">labels</code> field of each log entry in\n<code class=\"highlighter-rouge\">entries</code>, except when a log entry specifies its own <code class=\"highlighter-rouge\">key:value</code> item\nwith the same key. See also <a data-custom-type=\"gcloud/logging/entry#labels=\">Entry#labels=</a>.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["Boolean"],"description":"Returns <code class=\"highlighter-rouge\">true</code> if the entries were written."}]},{"name":"logger","title":["Gcloud","Logging","Project#logger"],"description":"<p>Creates a logger instance that is API-compatible with Ruby’s standard\nlibrary <a href=\"http://ruby-doc.org/stdlib/libdoc/logger/rdoc\">Logger</a>.</p>","source":"lib/gcloud/logging/project.rb#L281","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\n\nresource = logging.resource \"gae_app\",\n                            module_id: \"1\",\n                            version_id: \"20150925t173233\"\n\nlogger = logging.logger \"my_app_log\", resource, env: :production\nlogger.info \"Job started.\""}],"params":[{"name":"log_name","types":["String"],"description":"A log resource name to be associated with the\nwritten log entries.","optional":false,"nullable":false},{"name":"resource","types":["Gcloud::Logging::Resource"],"description":"The monitored resource to be\nassociated with written log entries.","optional":false,"nullable":false},{"name":"labels","types":["Hash"],"description":"A set of user-defined data to be associated with\nwritten log entries.","optional":true,"default":"{}","nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"gcloud/logging/logger\">Gcloud::Logging::Logger</a>"],"description":"a Logger object that can be used in\nplace of a ruby standard library logger object."}]},{"name":"delete_log","title":["Gcloud","Logging","Project#delete_log"],"description":"<p>Deletes a log and all its log entries. The log will reappear if it\nreceives new entries.</p>","source":"lib/gcloud/logging/project.rb#L305","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\nlogging.delete_log \"my_app_log\""}],"params":[{"name":"name","types":["String"],"description":"The name of the log, which may be the full path\nincluding the project ID (<code class=\"highlighter-rouge\">projects/&lt;project-id&gt;/logs/&lt;log-id&gt;</code>), or\njust the short name (<code class=\"highlighter-rouge\">&lt;log-id&gt;</code>), in which case the beginning of the\npath will be automatically prepended, using the ID of the current\nproject.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["Boolean"],"description":"Returns <code class=\"highlighter-rouge\">true</code> if the log and all its log entries were\ndeleted."}]},{"name":"resource_descriptors","title":["Gcloud","Logging","Project#resource_descriptors"],"description":"<p>Retrieves the list of monitored resource descriptors that are used by\nGoogle Cloud Logging.</p>","source":"lib/gcloud/logging/project.rb#L352","resources":[{"title":"Monitored Resources","link":"https://cloud.google.com/logging/docs/api/introduction_v2#monitored_resources"}],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\nresource_descriptors = logging.resource_descriptors\nresource_descriptors.each do |rd|\n  label_keys = rd.labels.map(&:key).join(\", \")\n  puts \"#{rd.type} (#{label_keys})\"\nend"},{"caption":"<p>Pagination: (See <a data-custom-type=\"gcloud/logging/resourcedescriptor/list\">Gcloud::Logging::ResourceDescriptor::List</a>)</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\nresource_descriptors = logging.resource_descriptors\nloop do\n  resource_descriptors.each do |rd|\n    puts rd.type\n  end\n  break unless resource_descriptors.next?\n  resource_descriptors = resource_descriptors.next\nend"}],"params":[{"name":"token","types":["String"],"description":"A previously-returned page token representing part\nof the larger set of results to view.","optional":true,"default":"nil","nullable":true},{"name":"max","types":["Integer"],"description":"Maximum number of resource descriptors to return.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"gcloud/logging/resourcedescriptor\">Gcloud::Logging::ResourceDescriptor</a>&gt;"],"description":"(See\n<a data-custom-type=\"gcloud/logging/resourcedescriptor/list\">Gcloud::Logging::ResourceDescriptor::List</a>)"}]},{"name":"resource","title":["Gcloud","Logging","Project#resource"],"description":"<p>Creates a new monitored resource instance.</p>","source":"lib/gcloud/logging/project.rb#L376","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\n\nresource = logging.resource \"gae_app\",\n                            \"module_id\" => \"1\",\n                            \"version_id\" => \"20150925t173233\""}],"params":[],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"gcloud/logging/resource\">Gcloud::Logging::Resource</a>"],"description":null}]},{"name":"sinks","title":["Gcloud","Logging","Project#sinks"],"description":"<p>Retrieves the list of sinks belonging to the project.</p>","source":"lib/gcloud/logging/project.rb#L418","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\nsinks = logging.sinks\nsinks.each do |s|\n  puts \"#{s.name}: #{s.filter} -> #{s.destination}\"\nend"},{"caption":"<p>With pagination: (See <a data-custom-type=\"gcloud/logging/sink/list\">Gcloud::Logging::Sink::List</a>)</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\nsinks = logging.sinks\nloop do\n  sinks.each do |s|\n    puts \"#{s.name}: #{s.filter} -> #{s.destination}\"\n  end\n  break unless sinks.next?\n  sinks = sinks.next\nend"}],"params":[{"name":"token","types":["String"],"description":"A previously-returned page token representing part\nof the larger set of results to view.","optional":true,"default":"nil","nullable":true},{"name":"max","types":["Integer"],"description":"Maximum number of sinks to return.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"gcloud/logging/sink\">Gcloud::Logging::Sink</a>&gt;"],"description":"(See\n<a data-custom-type=\"gcloud/logging/sink/list\">Gcloud::Logging::Sink::List</a>)"}]},{"name":"create_sink","title":["Gcloud","Logging","Project#create_sink"],"description":"<p>Creates a new project sink. When you create a sink, only new log entries\nthat match the sink’s filter are exported. Cloud Logging does not send\npreviously-ingested log entries to the sink’s destination.</p>","source":"lib/gcloud/logging/project.rb#L474","resources":[{"title":"Exporting Logs With Sinks","link":"https://cloud.google.com/logging/docs/api/tasks/exporting-logs"},{"title":"Kinds of log sinks (API V2)","link":"https://cloud.google.com/logging/docs/api/introduction_v2#kinds_of_log_sinks"},{"title":"Sinks (API V1)","link":"https://cloud.google.com/logging/docs/api/#sinks"},{"title":"Permissions for writing exported logs","link":"https://cloud.google.com/logging/docs/export/configure_export#setting_product_name_short_permissions_for_writing_exported_logs"}],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\nstorage = gcloud.storage\n\nbucket = storage.create_bucket \"my-syslog-bucket\"\n\nsink = logging.create_sink \"my-sink\",\n                           \"storage.googleapis.com/#{bucket.id}\",\n                           filter: \"log:syslog\""}],"params":[{"name":"name","types":["String"],"description":"The client-assigned sink identifier. Sink\nidentifiers are limited to 1000 characters and can include only the\nfollowing characters: <code class=\"highlighter-rouge\">A-Z</code>, <code class=\"highlighter-rouge\">a-z</code>, <code class=\"highlighter-rouge\">0-9</code>, and the special characters\n<code class=\"highlighter-rouge\">_-.</code>.","optional":false,"nullable":false},{"name":"destination","types":["String"],"description":"The resource name of the export destination.\nSee <a href=\"https://cloud.google.com/logging/docs/api/tasks/exporting-logs#about_sinks\">About\nsinks</a>\nfor examples.","optional":false,"nullable":false},{"name":"filter","types":["String","nil"],"description":"An <a href=\"https://cloud.google.com/logging/docs/view/advanced_filters\">advanced logs\nfilter</a>\nthat defines the log entries to be exported. The filter must be\nconsistent with the log entry format designed by the <code class=\"highlighter-rouge\">version</code>\nparameter, regardless of the format of the log entry that was\noriginally written to Cloud Logging.","optional":true,"default":"nil","nullable":true},{"name":"version","types":["Symbol"],"description":"The log entry version used when exporting log\nentries from this sink. This version does not have to correspond to\nthe version of the log entry when it was written to Cloud Logging.\nAccepted values are <code class=\"highlighter-rouge\">:unspecified</code>, <code class=\"highlighter-rouge\">:v2</code>, and <code class=\"highlighter-rouge\">:v1</code>.","optional":true,"default":":unspecified","nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"gcloud/logging/sink\">Gcloud::Logging::Sink</a>"],"description":"a project sink"}]},{"name":"sink","title":["Gcloud","Logging","Project#sink"],"description":"<p>Retrieves a sink by name.</p>","source":"lib/gcloud/logging/project.rb#L506","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\nsink = logging.sink \"existing-sink\""},{"caption":"<p>By default <code class=\"highlighter-rouge\">nil</code> will be returned if the sink does not exist.</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\nsink = logging.sink \"non-existing-sink\" #=> nil"}],"params":[{"name":"sink_name","types":["String"],"description":"Name of a sink.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"gcloud/logging/sink\">Gcloud::Logging::Sink</a>","nil"],"description":"Returns <code class=\"highlighter-rouge\">nil</code> if the sink does not\nexist."}]},{"name":"metrics","title":["Gcloud","Logging","Project#metrics"],"description":"<p>Retrieves the list of metrics belonging to the project.</p>","source":"lib/gcloud/logging/project.rb#L551","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\nmetrics = logging.metrics\nmetrics.each do |m|\n  puts \"#{m.name}: #{m.filter}\"\nend"},{"caption":"<p>With pagination: (See <a data-custom-type=\"gcloud/logging/metric/list\">Gcloud::Logging::Metric::List</a>)</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\nmetrics = logging.metrics\nloop do\n  metrics.each do |m|\n    puts \"#{m.name}: #{m.filter}\"\n  end\n  break unless metrics.next?\n  metrics = metrics.next\nend"}],"params":[{"name":"token","types":["String"],"description":"A previously-returned page token representing part\nof the larger set of results to view.","optional":true,"default":"nil","nullable":true},{"name":"max","types":["Integer"],"description":"Maximum number of metrics to return.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["Array&lt;<a data-custom-type=\"gcloud/logging/metric\">Gcloud::Logging::Metric</a>&gt;"],"description":"(See\n<a data-custom-type=\"gcloud/logging/metric/list\">Gcloud::Logging::Metric::List</a>)"}]},{"name":"create_metric","title":["Gcloud","Logging","Project#create_metric"],"description":"<p>Creates a new logs-based metric for Google Cloud Monitoring.</p>","source":"lib/gcloud/logging/project.rb#L587","resources":[{"title":"Logs-based Metrics","link":"https://cloud.google.com/logging/docs/view/logs_based_metrics"},{"title":"Google Cloud Monitoring","link":"https://cloud.google.com/monitoring/docs"}],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\nmetric = logging.create_metric \"errors\", \"severity>=ERROR\""}],"params":[{"name":"name","types":["String"],"description":"The client-assigned metric identifier. Metric\nidentifiers are limited to 1000 characters and can include only the\nfollowing characters: <code class=\"highlighter-rouge\">A-Z</code>, <code class=\"highlighter-rouge\">a-z</code>, <code class=\"highlighter-rouge\">0-9</code>, and the special characters\n<code class=\"highlighter-rouge\">_-.,+!*',()%/\\</code>. The forward-slash character (<code class=\"highlighter-rouge\">/</code>) denotes a\nhierarchy of name pieces, and it cannot be the first character of the\nname.","optional":false,"nullable":false},{"name":"filter","types":["String"],"description":"An <a href=\"https://cloud.google.com/logging/docs/view/advanced_filters\">advanced logs\nfilter</a>.","optional":false,"nullable":false},{"name":"description","types":["String","nil"],"description":"A description of this metric, which is\nused in documentation.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"gcloud/logging/metric\">Gcloud::Logging::Metric</a>"],"description":null}]},{"name":"metric","title":["Gcloud","Logging","Project#metric"],"description":"<p>Retrieves metric by name.</p>","source":"lib/gcloud/logging/project.rb#L618","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\nmetric = logging.metric \"existing_metric\""},{"caption":"<p>By default <code class=\"highlighter-rouge\">nil</code> will be returned if the metric does not exist.</p>","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nlogging = gcloud.logging\nmetric = logging.metric \"non_existing_metric\" #=> nil"}],"params":[{"name":"name","types":["String"],"description":"Name of a metric.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"gcloud/logging/metric\">Gcloud::Logging::Metric</a>","nil"],"description":"Returns <code class=\"highlighter-rouge\">nil</code> if metric does not\nexist."}]}]}