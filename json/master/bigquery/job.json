{"id":"job","metadata":{"name":"Job","description":"<h1 id=\"job\">Job</h1>\n\n<p>Represents a generic Job that may be performed on a {Table}.</p>\n\n<p>The subclasses of Job represent the specific BigQuery job types:\n{CopyJob}, {ExtractJob}, {LoadJob}, and {QueryJob}.</p>\n\n<p>A job instance is created when you call {Project#query_job},\n{Dataset#query_job}, {Table#copy}, {Table#extract}, {Table#load}, or\n{View#data}.</p>","source":"lib/gcloud/bigquery/job.rb#L56","resources":[{"href":"https://cloud.google.com/bigquery/docs/managing_jobs_datasets_projects","title":"Managing Jobs, Datasets, and Projects"},{"href":"https://cloud.google.com/bigquery/docs/reference/v2/jobs","title":"Jobs API\nreference"}],"examples":[{"caption":null,"code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nbigquery = gcloud.bigquery\n\nq = \"SELECT COUNT(word) as count FROM publicdata:samples.shakespeare\"\njob = bigquery.query_job q\n\njob.wait_until_done!\n\nif job.failed?\n  puts job.error\nelse\n  puts job.query_results.first\nend"}]},"methods":[{"metadata":{"name":"job_id","description":"<p>The ID of the job.</p>","source":"lib/gcloud/bigquery/job.rb#L74","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"project_id","description":"<p>The ID of the project containing the job.</p>","source":"lib/gcloud/bigquery/job.rb#L80","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"state","description":"<p>The current state of the job. The possible values are <code class=\"highlighter-rouge\">PENDING</code>,\n<code class=\"highlighter-rouge\">RUNNING</code>, and <code class=\"highlighter-rouge\">DONE</code>. A <code class=\"highlighter-rouge\">DONE</code> state does not mean that the job\ncompleted successfully. Use {#failed?} to discover if an error occurred\nor if the job was successful.</p>","source":"lib/gcloud/bigquery/job.rb#L89","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"running?","description":"<p>Checks if the job’s state is <code class=\"highlighter-rouge\">RUNNING</code>.</p>","source":"lib/gcloud/bigquery/job.rb#L96","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":null}]},{"metadata":{"name":"pending?","description":"<p>Checks if the job’s state is <code class=\"highlighter-rouge\">PENDING</code>.</p>","source":"lib/gcloud/bigquery/job.rb#L103","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":null}]},{"metadata":{"name":"done?","description":"<p>Checks if the job’s state is <code class=\"highlighter-rouge\">DONE</code>. When <code class=\"highlighter-rouge\">true</code>, the job has stopped\nrunning. However, a <code class=\"highlighter-rouge\">DONE</code> state does not mean that the job completed\nsuccessfully.  Use {#failed?} to detect if an error occurred or if the\njob was successful.</p>","source":"lib/gcloud/bigquery/job.rb#L113","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":null}]},{"metadata":{"name":"failed?","description":"<p>Checks if an error is present.</p>","source":"lib/gcloud/bigquery/job.rb#L120","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":null}]},{"metadata":{"name":"created_at","description":"<p>The time when the job was created.</p>","source":"lib/gcloud/bigquery/job.rb#L126","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"started_at","description":"<p>The time when the job was started.\nThis field is present after the job’s state changes from <code class=\"highlighter-rouge\">PENDING</code>\nto either <code class=\"highlighter-rouge\">RUNNING</code> or <code class=\"highlighter-rouge\">DONE</code>.</p>","source":"lib/gcloud/bigquery/job.rb#L136","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"ended_at","description":"<p>The time when the job ended.\nThis field is present when the job’s state is <code class=\"highlighter-rouge\">DONE</code>.</p>","source":"lib/gcloud/bigquery/job.rb#L145","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"configuration","description":"<p>The configuration for the job. Returns a hash.</p>","source":"lib/gcloud/bigquery/job.rb#L156","resources":[{"href":"https://cloud.google.com/bigquery/docs/reference/v2/jobs","title":"Jobs API\nreference"}],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"statistics","description":"<p>The statistics for the job. Returns a hash.</p>","source":"lib/gcloud/bigquery/job.rb#L168","resources":[{"href":"https://cloud.google.com/bigquery/docs/reference/v2/jobs","title":"Jobs API\nreference"}],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"status","description":"<p>The job’s status. Returns a hash. The values contained in the hash are\nalso exposed by {#state}, {#error}, and {#errors}.</p>","source":"lib/gcloud/bigquery/job.rb#L178","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"error","description":"<p>The last error for the job, if any errors have occurred. Returns a\nhash.</p>","source":"lib/gcloud/bigquery/job.rb#L198","resources":[{"href":"https://cloud.google.com/bigquery/docs/reference/v2/jobs","title":"Jobs API\nreference"}],"examples":[]},"params":[],"exceptions":[],"returns":[{"types":["Hash"],"description":"Returns a hash containing <code class=\"highlighter-rouge\">reason</code> and <code class=\"highlighter-rouge\">message</code> keys:</p>\n\n<p>{\n  “reason”=&gt;”notFound”,\n  “message”=&gt;”Not found: Table publicdata:samples.BAD_ID”\n}"}]},{"metadata":{"name":"errors","description":"<p>The errors for the job, if any errors have occurred. Returns an array\nof hash objects. See {#error}.</p>","source":"lib/gcloud/bigquery/job.rb#L205","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"rerun!","description":"<p>Created a new job with the current configuration.</p>","source":"lib/gcloud/bigquery/job.rb#L211","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"reload!","description":"<p>Reloads the job with current data from the BigQuery service.</p>","source":"lib/gcloud/bigquery/job.rb#L223","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"wait_until_done!","description":"<p>Refreshes the job until the job is <code class=\"highlighter-rouge\">DONE</code>.\nThe delay between refreshes will incrementally increase.</p>","source":"lib/gcloud/bigquery/job.rb#L250","resources":[],"examples":[{"caption":null,"code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nbigquery = gcloud.bigquery\ndataset = bigquery.dataset \"my_dataset\"\ntable = dataset.table \"my_table\"\n\nextract_job = table.extract \"gs://my-bucket/file-name.json\",\n                            format: \"json\"\nextract_job.wait_until_done!\nextract_job.done? #=> true"}]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"ensure_connection!","description":"<p>Raise an error unless an active connection is available.</p>","source":"lib/gcloud/bigquery/job.rb#L274","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"klass_for","description":"<p>Get the subclass for a job type</p>","source":"lib/gcloud/bigquery/job.rb#L280","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"retrieve_table","description":"","source":"lib/gcloud/bigquery/job.rb#L293","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]}]}