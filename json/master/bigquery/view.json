{"id":"view","metadata":{"name":"View","description":"<h1 id=\"view\">View</h1>  <p>A view is a virtual table defined by a SQL query. You can query views in the browser tool, or by using a query job.</p>  <p>BigQuery’s views are logical views, not materialized views, which means that the query that defines the view is re-executed every time the view is queried. Queries are billed according to the total amount of data in all table fields referenced directly or indirectly by the top-level query.</p>","source":"lib/gcloud/bigquery/view.rb#L42","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nbigquery = gcloud.bigquery\ndataset = bigquery.dataset \"my_dataset\"\nview = dataset.create_view \"my_view\",\n         \"SELECT name, age FROM [proj:dataset.users]\""}]},"methods":[{"metadata":{"name":"table_id","description":"<p>A unique ID for this table. The ID must contain only letters (a-z, A-Z), numbers (0-9), or underscores (_). The maximum length is 1,024 characters.</p>","source":"lib/gcloud/bigquery/view.rb#L65","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"dataset_id","description":"<p>The ID of the <code class=\"highlighter-rouge\">Dataset</code> containing this table.</p>","source":"lib/gcloud/bigquery/view.rb#L74","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"project_id","description":"<p>The ID of the <code class=\"highlighter-rouge\">Project</code> containing this table.</p>","source":"lib/gcloud/bigquery/view.rb#L83","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"name","description":"<p>The name of the table.</p>","source":"lib/gcloud/bigquery/view.rb#L102","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"name=","description":"<p>Updates the name of the table.</p>","source":"lib/gcloud/bigquery/view.rb#L111","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"etag","description":"<p>A string hash of the dataset.</p>","source":"lib/gcloud/bigquery/view.rb#L120","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"api_url","description":"<p>A URL that can be used to access the dataset using the REST API.</p>","source":"lib/gcloud/bigquery/view.rb#L130","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"description","description":"<p>The description of the table.</p>","source":"lib/gcloud/bigquery/view.rb#L140","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"description=","description":"<p>Updates the description of the table.</p>","source":"lib/gcloud/bigquery/view.rb#L150","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"created_at","description":"<p>The time when this table was created.</p>","source":"lib/gcloud/bigquery/view.rb#L159","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"expires_at","description":"<p>The time when this table expires. If not present, the table will persist indefinitely. Expired tables will be deleted and their storage reclaimed.</p>","source":"lib/gcloud/bigquery/view.rb#L171","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"modified_at","description":"<p>The date when this table was last modified.</p>","source":"lib/gcloud/bigquery/view.rb#L182","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"table?","description":"<p>Checks if the table’s type is “TABLE”.</p>","source":"lib/gcloud/bigquery/view.rb#L192","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":null}]},{"metadata":{"name":"view?","description":"<p>Checks if the table’s type is “VIEW”.</p>","source":"lib/gcloud/bigquery/view.rb#L201","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":null}]},{"metadata":{"name":"location","description":"<p>The geographic location where the table should reside. Possible values include EU and US. The default value is US.</p>","source":"lib/gcloud/bigquery/view.rb#L211","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"schema","description":"<p>The schema of the table.</p>","source":"lib/gcloud/bigquery/view.rb#L221","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"fields","description":"<p>The fields of the table.</p>","source":"lib/gcloud/bigquery/view.rb#L234","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"headers","description":"<p>The names of the columns in the table.</p>","source":"lib/gcloud/bigquery/view.rb#L246","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"query","description":"<p>The query that executes each time the view is loaded.</p>","source":"lib/gcloud/bigquery/view.rb#L255","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"query=","description":"<p>Updates the query that executes each time the view is loaded.</p>","source":"lib/gcloud/bigquery/view.rb#L279","resources":[{"title":"BigQuery Query Reference","link":"https://cloud.google.com/bigquery/query-reference"}],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nbigquery = gcloud.bigquery\ndataset = bigquery.dataset \"my_dataset\"\nview = dataset.table \"my_view\"\n\nview.query = \"SELECT first_name FROM [my_project:my_dataset.my_table]\""}]},"params":[{"name":"new_query","types":["String"],"description":"The query that defines the view.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"metadata":{"name":"data","description":"<p>Runs a query to retrieve all data from the view.</p>","source":"lib/gcloud/bigquery/view.rb#L326","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nbigquery = gcloud.bigquery\ndataset = bigquery.dataset \"my_dataset\"\nview = dataset.table \"my_view\"\n\ndata = view.data\ndata.each do |row|\n  puts row[\"first_name\"]\nend\nmore_data = data.next if data.next?"}]},"params":[{"name":"max","types":["Integer"],"description":"The maximum number of rows of data to return per page of results. Setting this flag to a small value such as 1000 and then paging through results might improve reliability when the query result set is large. In addition to this limit, responses are also limited to 10 MB. By default, there is no maximum row count, and only the byte limit applies.","optional":true,"default":"nil","nullable":true},{"name":"timeout","types":["Integer"],"description":"How long to wait for the query to complete, in milliseconds, before the request times out and returns. Note that this is only a timeout for the request, not the query. If the query takes longer to run than the timeout value, the call returns without any results and with QueryData#complete? set to false. The default value is 10000 milliseconds (10 seconds).","optional":true,"default":"nil","nullable":true},{"name":"cache","types":["Boolean"],"description":"Whether to look for the result in the query cache. The query cache is a best-effort cache that will be flushed whenever tables in the query are modified. The default value is true. For more information, see <a href=\"https://developers.google.com/bigquery/querying-data\">query caching</a>.","optional":true,"default":"nil","nullable":true},{"name":"dryrun","types":["Boolean"],"description":"If set to <code class=\"highlighter-rouge\">true</code>, BigQuery doesn’t run the job. Instead, if the query is valid, BigQuery returns statistics about the job such as how many bytes would be processed. If the query is invalid, an error returns. The default value is <code class=\"highlighter-rouge\">false</code>.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["Gcloud::Bigquery::QueryData"],"description":null}]},{"metadata":{"name":"delete","description":"<p>Permanently deletes the table.</p>","source":"lib/gcloud/bigquery/view.rb#L355","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nbigquery = gcloud.bigquery\ndataset = bigquery.dataset \"my_dataset\"\ntable = dataset.table \"my_table\"\n\ntable.delete"}]},"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"Returns <code class=\"highlighter-rouge\">true</code> if the table was deleted."}]},{"metadata":{"name":"reload!","description":"<p>Reloads the table with current data from the BigQuery service.</p>","source":"lib/gcloud/bigquery/view.rb#L370","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"ensure_connection!","description":"<p>Raise an error unless an active connection is available.</p>","source":"lib/gcloud/bigquery/view.rb#L394","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"patch_gapi!","description":"","source":"lib/gcloud/bigquery/view.rb#L398","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"ensure_full_data!","description":"<p>Load the complete representation of the table if it has been only partially loaded by a request to the API list method.</p>","source":"lib/gcloud/bigquery/view.rb#L411","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"reload_gapi!","description":"","source":"lib/gcloud/bigquery/view.rb#L415","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[]},{"metadata":{"name":"data_complete?","description":"","source":"lib/gcloud/bigquery/view.rb#L425","resources":[],"examples":[]},"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":null}]}]}