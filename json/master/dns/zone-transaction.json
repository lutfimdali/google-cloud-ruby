{"id":"zone-transaction","metadata":{"name":"Zone::Transaction","description":"<h1 id=\"dns-zone-transaction\">DNS Zone Transaction</h1>\n\n<p>This object is used by <a data-custom-type=\"dns/zone#update\">Zone#update</a> when passed a block. These methods\nare used to update the records that are sent to the Google Cloud DNS\nAPI.</p>","source":"lib/gcloud/dns/zone/transaction.rb#L42","resources":[],"examples":[{"caption":null,"code":"require \"gcloud\"\n\ngcloud = Gcloud.new\ndns = gcloud.dns\nzone = dns.zone \"example-com\"\nzone.update do |tx|\n  tx.add     \"example.com.\", \"A\",  86400, \"1.2.3.4\"\n  tx.remove  \"example.com.\", \"TXT\"\n  tx.replace \"example.com.\", \"MX\", 86400, [\"10 mail1.example.com.\",\n                                           \"20 mail2.example.com.\"]\n  tx.modify \"www.example.com.\", \"CNAME\" do |cname|\n    cname.ttl = 86400 # only change the TTL\n  end\nend"}]},"methods":[{"metadata":{"name":"Transaction::add","description":"<p>Adds a record to the Zone.</p>","source":"lib/gcloud/dns/zone/transaction.rb#L81","resources":[],"examples":[{"caption":null,"code":"require \"gcloud\"\n\ngcloud = Gcloud.new\ndns = gcloud.dns\nzone = dns.zone \"example-com\"\nzone.update do |tx|\n  tx.add     \"example.com.\", \"A\",  86400, \"1.2.3.4\"\nend"}]},"params":[{"name":"name","types":["String"],"description":"The owner of the record. For example:\n<code class=\"highlighter-rouge\">example.com.</code>.","optional":false,"nullable":false},{"name":"type","types":["String"],"description":"The identifier of a <a href=\"https://cloud.google.com/dns/what-is-cloud-dns\">supported record\ntype</a>.\nFor example: <code class=\"highlighter-rouge\">A</code>, <code class=\"highlighter-rouge\">AAAA</code>, <code class=\"highlighter-rouge\">CNAME</code>, <code class=\"highlighter-rouge\">MX</code>, or <code class=\"highlighter-rouge\">TXT</code>.","optional":false,"nullable":false},{"name":"ttl","types":["Integer"],"description":"The number of seconds that the record can be\ncached by resolvers.","optional":false,"nullable":false},{"name":"data","types":["String","Array<String>"],"description":"The resource record data, as\ndetermined by <code class=\"highlighter-rouge\">type</code> and defined in\n<a href=\"http://tools.ietf.org/html/rfc1035#section-5\">RFC 1035 (section 5)</a>\nand <a href=\"http://tools.ietf.org/html/rfc1034#section-3.6.1\">RFC 1034 (section\n3.6.1)</a>. For\nexample: <code class=\"highlighter-rouge\">192.0.2.1</code> or <code class=\"highlighter-rouge\">example.com.</code>.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"metadata":{"name":"Transaction::remove","description":"<p>Removes records from the Zone. The records are looked up before they\nare removed.</p>","source":"lib/gcloud/dns/zone/transaction.rb#L105","resources":[],"examples":[{"caption":null,"code":"require \"gcloud\"\n\ngcloud = Gcloud.new\ndns = gcloud.dns\nzone = dns.zone \"example-com\"\nzone.update do |tx|\n  tx.remove  \"example.com.\", \"TXT\"\nend"}]},"params":[{"name":"name","types":["String"],"description":"The owner of the record. For example:\n<code class=\"highlighter-rouge\">example.com.</code>.","optional":false,"nullable":false},{"name":"type","types":["String"],"description":"The identifier of a <a href=\"https://cloud.google.com/dns/what-is-cloud-dns\">supported record\ntype</a>.\nFor example: <code class=\"highlighter-rouge\">A</code>, <code class=\"highlighter-rouge\">AAAA</code>, <code class=\"highlighter-rouge\">CNAME</code>, <code class=\"highlighter-rouge\">MX</code>, or <code class=\"highlighter-rouge\">TXT</code>.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"metadata":{"name":"Transaction::replace","description":"<p>Replaces existing records on the Zone. Records matching the <code class=\"highlighter-rouge\">name</code> and\n<code class=\"highlighter-rouge\">type</code> are replaced.</p>","source":"lib/gcloud/dns/zone/transaction.rb#L138","resources":[],"examples":[{"caption":null,"code":"require \"gcloud\"\n\ngcloud = Gcloud.new\ndns = gcloud.dns\nzone = dns.zone \"example-com\"\nzone.update do |tx|\n  tx.replace \"example.com.\", \"MX\", 86400, [\"10 mail1.example.com.\",\n                                           \"20 mail2.example.com.\"]\nend"}]},"params":[{"name":"name","types":["String"],"description":"The owner of the record. For example:\n<code class=\"highlighter-rouge\">example.com.</code>.","optional":false,"nullable":false},{"name":"type","types":["String"],"description":"The identifier of a <a href=\"https://cloud.google.com/dns/what-is-cloud-dns\">supported record\ntype</a>.\nFor example: <code class=\"highlighter-rouge\">A</code>, <code class=\"highlighter-rouge\">AAAA</code>, <code class=\"highlighter-rouge\">CNAME</code>, <code class=\"highlighter-rouge\">MX</code>, or <code class=\"highlighter-rouge\">TXT</code>.","optional":false,"nullable":false},{"name":"ttl","types":["Integer"],"description":"The number of seconds that the record can be\ncached by resolvers.","optional":false,"nullable":false},{"name":"data","types":["String","Array<String>"],"description":"The resource record data, as\ndetermined by <code class=\"highlighter-rouge\">type</code> and defined in\n<a href=\"http://tools.ietf.org/html/rfc1035#section-5\">RFC 1035 (section 5)</a>\nand <a href=\"http://tools.ietf.org/html/rfc1034#section-3.6.1\">RFC 1034 (section\n3.6.1)</a>. For\nexample: <code class=\"highlighter-rouge\">192.0.2.1</code> or <code class=\"highlighter-rouge\">example.com.</code>.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"metadata":{"name":"Transaction::modify","description":"<p>Modifies records on the Zone. Records matching the <code class=\"highlighter-rouge\">name</code> and <code class=\"highlighter-rouge\">type</code>\nare yielded to the block where they can be modified.</p>","source":"lib/gcloud/dns/zone/transaction.rb#L166","resources":[],"examples":[{"caption":null,"code":"require \"gcloud\"\n\ngcloud = Gcloud.new\ndns = gcloud.dns\nzone.update do |tx|\n  tx.modify \"www.example.com.\", \"CNAME\" do |cname|\n    cname.ttl = 86400 # only change the TTL\n  end\nend"}]},"params":[{"name":"name","types":["String"],"description":"The owner of the record. For example:\n<code class=\"highlighter-rouge\">example.com.</code>.","optional":false,"nullable":false},{"name":"type","types":["String"],"description":"The identifier of a <a href=\"https://cloud.google.com/dns/what-is-cloud-dns\">supported record\ntype</a>.\nFor example: <code class=\"highlighter-rouge\">A</code>, <code class=\"highlighter-rouge\">AAAA</code>, <code class=\"highlighter-rouge\">CNAME</code>, <code class=\"highlighter-rouge\">MX</code>, or <code class=\"highlighter-rouge\">TXT</code>.","optional":false,"nullable":false},{"name":"yield","types":["block"],"description":"a block yielding each matching record","optional":true,"nullable":false},{"name":"yield.record","types":["Record"],"description":"the record to be modified","optional":false,"nullable":false}],"exceptions":[],"returns":[]}]}