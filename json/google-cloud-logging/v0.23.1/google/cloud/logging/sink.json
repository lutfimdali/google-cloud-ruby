{"id":"google/cloud/logging/sink","name":"Sink","title":["Google","Cloud","Logging","Sink"],"description":"<h1 id=\"sink\">Sink</h1>\n\n<p>Used to export log entries outside Stackdriver Logging. When you create\na sink, new log entries are exported. Stackdriver Logging does not send\npreviously-ingested log entries to the sink’s destination.</p>\n\n<p>A logs filter controls which log entries are exported. Sinks can have a\nstart time and an end time; these can be used to place log entries from\nan exact time range into a particular destination.  If both <code>start_at</code>\nand <code>end_at</code> are present, then <code>start_at</code> must be less than <code>end_at</code>.</p>\n\n<p>Before creating the sink, ensure that you have granted\n<code>cloud-logs@google.com</code> permission to write logs to the destination. See\n<a href=\"https://cloud.google.com/logging/docs/export/configure_export#setting_product_name_short_permissions_for_writing_exported_logs\">Permissions for writing exported\nlogs</a>.</p>\n\n<p>You can retrieve an existing sink with <a data-custom-type=\"google/cloud/logging/project\" data-method=\"sink-instance\">Project#sink</a>.</p>","source":"google-cloud-logging/lib/google/cloud/logging/sink.rb#L64","resources":[{"title":"Exporting Logs With Sinks","link":"https://cloud.google.com/logging/docs/api/tasks/exporting-logs"},{"title":"Kinds of log sinks (API V2)","link":"https://cloud.google.com/logging/docs/api/introduction_v2#kinds_of_log_sinks"},{"title":"Sinks (API V1)","link":"https://cloud.google.com/logging/docs/api/#sinks"},{"title":"Permissions for writing exported logs","link":"https://cloud.google.com/logging/docs/export/configure_export#setting_product_name_short_permissions_for_writing_exported_logs"}],"examples":[{"caption":"","code":"require \"google/cloud/storage\"\n\nstorage = Google::Cloud::Storage.new\nbucket = storage.create_bucket \"my-logs-bucket\"\n\n# Grant owner permission to Stackdriver Logging service\nemail = \"cloud-logs@google.com\"\nbucket.acl.add_owner \"group-#{email}\"\n\nrequire \"google/cloud/logging\"\n\nlogging = Google::Cloud::Logging.new\nsink = logging.create_sink \"my-sink\",\n                           \"storage.googleapis.com/#{bucket.id}\""}],"methods":[{"id":"name-instance","type":"instance","name":"name","title":["Google","Cloud","Logging","Sink#name"],"description":"<p>The client-assigned sink identifier. Sink identifiers are limited to\n1000 characters and can include only the following characters: <code>A-Z</code>,\n<code>a-z</code>, <code>0-9</code>, and the special characters <code>_-.</code>.</p>","source":"google-cloud-logging/lib/google/cloud/logging/sink.rb#L84","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"destination-instance","type":"instance","name":"destination","title":["Google","Cloud","Logging","Sink#destination"],"description":"<p>The export destination. See <a href=\"https://cloud.google.com/logging/docs/api/tasks/exporting-logs\">Exporting Logs With\nSinks</a>.</p>","source":"google-cloud-logging/lib/google/cloud/logging/sink.rb#L91","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"destination=-instance","type":"instance","name":"destination=","title":["Google","Cloud","Logging","Sink#destination="],"description":"<p>Updates the export destination. See <a href=\"https://cloud.google.com/logging/docs/api/tasks/exporting-logs\">Exporting Logs With\nSinks</a>.</p>","source":"google-cloud-logging/lib/google/cloud/logging/sink.rb#L98","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"filter-instance","type":"instance","name":"filter","title":["Google","Cloud","Logging","Sink#filter"],"description":"<p>An <a href=\"https://cloud.google.com/logging/docs/view/advanced_filters\">advanced logs\nfilter</a>\nthat defines the log entries to be exported. The filter must be\nconsistent with the log entry format designed by the <code>version</code>\nparameter, regardless of the format of the log entry that was\noriginally written to Stackdriver Logging.</p>","source":"google-cloud-logging/lib/google/cloud/logging/sink.rb#L109","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"filter=-instance","type":"instance","name":"filter=","title":["Google","Cloud","Logging","Sink#filter="],"description":"<p>Updates the <a href=\"https://cloud.google.com/logging/docs/view/advanced_filters\">advanced logs\nfilter</a>\nthat defines the log entries to be exported. The filter must be\nconsistent with the log entry format designed by the <code>version</code>\nparameter, regardless of the format of the log entry that was\noriginally written to Stackdriver Logging.</p>","source":"google-cloud-logging/lib/google/cloud/logging/sink.rb#L120","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"version-instance","type":"instance","name":"version","title":["Google","Cloud","Logging","Sink#version"],"description":"<p>The log entry version used when exporting log entries from this sink.\nThis version does not have to correspond to the version of the log\nentry when it was written to Stackdriver Logging.</p>","source":"google-cloud-logging/lib/google/cloud/logging/sink.rb#L128","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"version=-instance","type":"instance","name":"version=","title":["Google","Cloud","Logging","Sink#version="],"description":"<p>Updates the log entry version used when exporting log entries from\nthis sink. This version does not have to correspond to the version of\nthe log entry when it was written to Stackdriver Logging. Accepted\nvalues are <code>:VERSION_FORMAT_UNSPECIFIED</code>, <code>:V2</code>, and <code>:V1</code>.</p>","source":"google-cloud-logging/lib/google/cloud/logging/sink.rb#L137","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"unspecified?-instance","type":"instance","name":"unspecified?","title":["Google","Cloud","Logging","Sink#unspecified?"],"description":"<p>Helper to determine if the sink’s version is\n<code>VERSION_FORMAT_UNSPECIFIED</code>.</p>","source":"google-cloud-logging/lib/google/cloud/logging/sink.rb#L144","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"v2?-instance","type":"instance","name":"v2?","title":["Google","Cloud","Logging","Sink#v2?"],"description":"<p>Helper to determine if the sink’s version is <code>V2</code>.</p>","source":"google-cloud-logging/lib/google/cloud/logging/sink.rb#L150","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"v1?-instance","type":"instance","name":"v1?","title":["Google","Cloud","Logging","Sink#v1?"],"description":"<p>Helper to determine if the sink’s version is <code>V1</code>.</p>","source":"google-cloud-logging/lib/google/cloud/logging/sink.rb#L156","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":""}]},{"id":"start_at-instance","type":"instance","name":"start_at","title":["Google","Cloud","Logging","Sink#start_at"],"description":"<p>The time at which this sink will begin exporting log entries. If this\nvalue is present, then log entries are exported only if <code>start_at</code>\nis less than the log entry’s timestamp. Optional.</p>","source":"google-cloud-logging/lib/google/cloud/logging/sink.rb#L164","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"start_at=-instance","type":"instance","name":"start_at=","title":["Google","Cloud","Logging","Sink#start_at="],"description":"<p>Sets the time at which this sink will begin exporting log entries. If\nthis value is present, then log entries are exported only if\n<code>start_at</code> is less than the log entry’s timestamp. Optional.</p>","source":"google-cloud-logging/lib/google/cloud/logging/sink.rb#L173","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"end_at-instance","type":"instance","name":"end_at","title":["Google","Cloud","Logging","Sink#end_at"],"description":"<p>Time at which this sink will stop exporting log entries. If this\nvalue is present, then log entries are exported only if the log\nentry’s timestamp is less than <code>end_at</code>. Optional.</p>","source":"google-cloud-logging/lib/google/cloud/logging/sink.rb#L182","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"end_at=-instance","type":"instance","name":"end_at=","title":["Google","Cloud","Logging","Sink#end_at="],"description":"<p>Sets the time at which this sink will stop exporting log entries. If\nthis value is present, then log entries are exported only if the log\nentry’s timestamp is less than <code>end_at</code>. Optional.</p>","source":"google-cloud-logging/lib/google/cloud/logging/sink.rb#L191","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"writer_identity-instance","type":"instance","name":"writer_identity","title":["Google","Cloud","Logging","Sink#writer_identity"],"description":"<p>An IAM identity (a service account or group) that will write exported\nlog entries to the destination on behalf of Stackdriver Logging. You\nmust grant this identity write-access to the destination. Consult the\ndestination service’s documentation to determine the exact role that\nmust be granted.</p>","source":"google-cloud-logging/lib/google/cloud/logging/sink.rb#L202","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"save-instance","type":"instance","name":"save","title":["Google","Cloud","Logging","Sink#save"],"description":"<p>Updates the logs-based sink.</p>","source":"google-cloud-logging/lib/google/cloud/logging/sink.rb#L224","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/logging\"\n\nlogging = Google::Cloud::Logging.new\nsink = logging.sink \"severe_errors\"\nsink.filter = \"logName:syslog AND severity>=ERROR\"\nsink.save"}],"params":[{"name":"unique_writer_identity","types":["Boolean"],"description":"Whether the sink will have a\ndedicated service account returned in the sink’s <code>writer_identity</code>.\nSet this field to be true to export logs from one project to a\ndifferent project. This field is ignored for non-project sinks\n(e.g. organization sinks) because those sinks are required to have\ndedicated service accounts. Optional.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[]},{"id":"reload!-instance","type":"instance","name":"reload!","title":["Google","Cloud","Logging","Sink#reload!"],"description":"<p>Reloads the logs-based sink with current data from the Logging\nservice.</p>","source":"google-cloud-logging/lib/google/cloud/logging/sink.rb#L235","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"delete-instance","type":"instance","name":"delete","title":["Google","Cloud","Logging","Sink#delete"],"description":"<p>Permanently deletes the logs-based sink.</p>","source":"google-cloud-logging/lib/google/cloud/logging/sink.rb#L253","resources":[],"examples":[{"caption":"","code":"require \"google/cloud/logging\"\n\nlogging = Google::Cloud::Logging.new\nsink = logging.sink \"severe_errors\"\nsink.delete"}],"params":[],"exceptions":[],"returns":[{"types":["Boolean"],"description":"Returns <code>true</code> if the sink was deleted."}]}]}