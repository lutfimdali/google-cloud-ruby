{"id":"google/cloud/errorreporting/railtie","name":"Railtie","title":["Google","Cloud","ErrorReporting","Railtie"],"description":"<p>Railtie</p>\n\n<p>Google::Cloud::ErrorReporting::Railtie automatically add the\nGoogle::Cloud::ErrorReporting::Middleware to Rack in a Rails environment.\nIt will automatically capture Exceptions from the Rails app and report\nthem to Stackdriver Error Reporting.</p>\n\n<p>The Middleware is only added when certain conditions are met. See\n<a data-custom-type=\"google/cloud/errorreporting/railtie\" data-method=\"use_error_reporting?-class\">Railtie.use_error_reporting?</a> for detail.</p>\n\n<p>When loaded, the Google::Cloud::ErrorReporting::Middleware will be\ninserted after ::ActionDispatch::DebugExceptions Middleware, which allows\nit to actually rescue all Exceptions and throw it back up. The middleware\nshould also be initialized with correct gcp project_id, keyfile,\nservice_name, and service_version if they are defined in\nRails environment files as follow:\n  config.google_cloud.project_id = “my-gcp-project”\n  config.google_cloud.keyfile = “/path/to/secret.json”\nor\n  config.google_cloud.error_reporting.project_id = “my-gcp-project”\n  config.google_cloud.error_reporting.keyfile = “/path/to/secret.json”\n  config.google_cloud.error_reporting.service_name = “my-service-name”\n  config.google_cloud.error_reporting.service_version = “v1”</p>","source":"google-cloud-error_reporting/lib/google/cloud/error_reporting/rails.rb#L47","resources":[],"examples":[],"methods":[{"id":"grpc_channel-class","type":"class","name":"grpc_channel","title":["Google","Cloud","ErrorReporting","Railtie.grpc_channel"],"description":"<p>Construct a gRPC Channel object from given keyfile</p>","source":"google-cloud-error_reporting/lib/google/cloud/error_reporting/rails.rb#L99","resources":[],"examples":[],"params":[{"name":"keyfile","types":["String","Hash"],"description":"Keyfile downloaded from Google Cloud. If\nfile path the file must be readable.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[{"types":["GRPC::Core::Channel"],"description":"gRPC Channel object based on given\nkeyfile"}]},{"id":"use_error_reporting?-class","type":"class","name":"use_error_reporting?","title":["Google","Cloud","ErrorReporting","Railtie.use_error_reporting?"],"description":"<p>Determine whether to use Stackdriver Error Reporting or not.</p>\n\n<p>Returns true if valid GCP project_id and keyfile are provided and\neither Rails is in “production” environment or \\\nconfig.google_cloud.use_error_reporting is explicitly true. Otherwise\nfalse.</p>","source":"google-cloud-error_reporting/lib/google/cloud/error_reporting/rails.rb#L134","resources":[],"examples":[],"params":[{"name":"config","types":["Rails::Railtie::Configuration"],"description":"The\nRails.application.config","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["Boolean"],"description":"Whether to use Stackdriver Error Reporting"}]}]}