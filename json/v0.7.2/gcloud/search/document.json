{"id":"gcloud/search/document","name":"Document","title":["Gcloud","Search","Document"],"description":"<h1 id=\"document\">Document</h1>\n\n<p>A document is an object that stores data that can be searched. Each\ndocument has a <a data-custom-type=\"gcloud/search/document\" data-method=\"doc_id-instance\">Gcloud::Search::Document#doc_id</a> that is unique within its\nindex, a <a data-custom-type=\"gcloud/search/document\" data-method=\"rank-instance\">Gcloud::Search::Document#rank</a>, and a list of\n<a data-custom-type=\"gcloud/search/document\" data-method=\"fields-instance\">Gcloud::Search::Document#fields</a> that contain typed data. Its field\nvalues can be accessed through hash-like methods such as\n<a data-custom-type=\"gcloud/search/document\" data-method=\"[]-instance\">Gcloud::Search::Document#[]</a> and <a data-custom-type=\"gcloud/search/document\" data-method=\"each-instance\">Gcloud::Search::Document#each</a>.</p>","source":"lib/gcloud/search/document.rb#L48","resources":[{"title":"Documents and\nIndexes","link":"https://cloud.google.com/search/documents_indexes"}],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nsearch = gcloud.search\nindex = search.index \"products\"\n\ndocument = index.document \"product-sku-000001\"\ndocument.add \"price\", 24.95\nindex.save document\ndocument.rank #=> 1443648166\ndocument[\"price\"] #=> 24.95"}],"methods":[{"id":"doc_id-instance","type":"instance","name":"doc_id","title":["Gcloud","Search","Document#doc_id"],"description":"<p>The unique identifier for the document. Can be set explicitly when the\ndocument is saved. (See <a data-custom-type=\"gcloud/search/index\" data-method=\"document-instance\">Gcloud::Search::Index#document</a> and\n<a data-custom-type=\"gcloud/search/document\" data-method=\"doc_id=-instance\">Gcloud::Search::Document#doc_id=</a>.) If missing, it is automatically\nassigned to the document when saved.</p>","source":"lib/gcloud/search/document.rb#L62","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"doc_id=-instance","type":"instance","name":"doc_id=","title":["Gcloud","Search","Document#doc_id="],"description":"<p>Sets the unique identifier for the document.</p>\n\n<p>Must contain only visible, printable ASCII characters (ASCII codes 33\nthrough 126 inclusive) and be no longer than 500 characters. It cannot\nbegin with an exclamation point (<code>!</code>), and it cannot begin\nand end with double underscores (<code>__</code>).</p>","source":"lib/gcloud/search/document.rb#L73","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"rank-instance","type":"instance","name":"rank","title":["Gcloud","Search","Document#rank"],"description":"<p>A positive integer which determines the default ordering of documents\nreturned from a search. The rank can be set explicitly when the document\nis saved. (See <a data-custom-type=\"gcloud/search/index\" data-method=\"document-instance\">Gcloud::Search::Index#document</a> and\n<a data-custom-type=\"gcloud/search/document\" data-method=\"rank=-instance\">Gcloud::Search::Document#rank=</a>.)  If missing, it is automatically\nassigned to the document when saved.</p>","source":"lib/gcloud/search/document.rb#L83","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"rank=-instance","type":"instance","name":"rank=","title":["Gcloud","Search","Document#rank="],"description":"<p>Sets the rank of the document.</p>\n\n<p>The same rank should not be assigned to many documents, and should never\nbe assigned to more than 10,000 documents. By default (when it is not\nspecified or set to 0), it is set at the time the document is created to\nthe number of seconds since January 1, 2011. The rank can be used in\n<a data-custom-type=\"gcloud/search/index\" data-method=\"search-instance\">Gcloud::Search::Index#search</a> options <code>expressions</code>, <code>order</code>, and\n<code>fields</code>, where it is referenced as <code>rank</code>.</p>","source":"lib/gcloud/search/document.rb#L96","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"[]-instance","type":"instance","name":"[]","title":["Gcloud","Search","Document#[]"],"description":"<p>Retrieve the field values associated to a field name.</p>","source":"lib/gcloud/search/document.rb#L121","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nsearch = gcloud.search\nindex = search.index \"products\"\n\ndocument = index.document \"product-sku-000001\"\nputs \"The document description is:\"\ndocument[\"description\"].each do |value|\n  puts \"* #{value} (#{value.type}) [#{value.lang}]\"\nend"}],"params":[{"name":"name","types":["String"],"description":"The name of the field. New values will be\nconfigured with this name.","optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["<a data-custom-type=\"gcloud/search/fieldvalues\">FieldValues</a>"],"description":""}]},{"id":"fields-instance","type":"instance","name":"fields","title":["Gcloud","Search","Document#fields"],"description":"<p>The fields in the document. Each field has a name (String) and a list of\nvalues (<a data-custom-type=\"gcloud/search/fieldvalues\">FieldValues</a>). (See <a data-custom-type=\"gcloud/search/fields\">Fields</a>)</p>","source":"lib/gcloud/search/document.rb#L130","resources":[],"examples":[],"params":[],"exceptions":[],"returns":[]},{"id":"add-instance","type":"instance","name":"add","title":["Gcloud","Search","Document#add"],"description":"<p>Add a new value. If the field name does not exist it will be added. If\nthe field value is a DateTime or Numeric, or the type is set to\n<code>:datetime</code> or <code>:number</code>, then the added value will replace any existing\nvalues of the same type (since there can be only one).</p>","source":"lib/gcloud/search/document.rb#L182","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nsearch = gcloud.search\nindex = search.index \"products\"\n\ndocument = index.document \"product-sku-000001\"\ndocument.add \"sku\", \"product-sku-000001\", type: :atom\ndocument.add \"description\", \"The best T-shirt ever.\",\n             type: :text, lang: \"en\"\ndocument.add \"description\", \"<p>The best T-shirt ever.</p>\",\n             type: :html, lang: \"en\"\ndocument.add \"price\", 24.95"}],"params":[{"name":"name","types":["String"],"description":"The name of the field.","optional":false,"nullable":false},{"name":"value","types":["String","Datetime","Float"],"description":"The value to add to the field.","optional":false,"nullable":false},{"name":"type","types":["Symbol"],"description":"The type of the field value. An attempt is made to\nset the correct type when this option is missing, although it must be\nprovided for <code>:geo</code> values. A field can have multiple values with same\nor different types; however, it cannot have multiple <code>:datetime</code> or\n<code>:number</code> values.</p>\n\n<p>The following values are supported:</p>\n\n<ul>\n  <li><code>:default</code> - The value is a string. The format will be automatically\ndetected. This is the default value for strings.</li>\n  <li><code>:text</code> - The value is a string with maximum length 1024**2\ncharacters.</li>\n  <li><code>:html</code> - The value is an HTML-formatted string with maximum length\n1024**2 characters.</li>\n  <li><code>:atom</code> - The value is a string with maximum length 500 characters.</li>\n  <li><code>:geo</code> - The value is a point on earth described by latitude and\nlongitude coordinates, represented in string with any of the listed\n<a href=\"http://en.wikipedia.org/wiki/Geographic_coordinate_conversion\">ways of writing coordinates</a>.</li>\n  <li><code>:datetime</code> - The value is a <code>DateTime</code>.</li>\n  <li><code>:number</code> - The value is a <code>Numeric</code> between -2,147,483,647 and\n2,147,483,647. The value will be stored as a double precision\nfloating point value in Cloud Search.</li>\n</ul>","optional":true,"default":"nil","nullable":true},{"name":"lang","types":["String"],"description":"The language of a string value. Must be a valid\n<a href=\"https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes\">ISO 639-1 code</a>.","optional":true,"default":"nil","nullable":true}],"exceptions":[],"returns":[]},{"id":"delete-instance","type":"instance","name":"delete","title":["Gcloud","Search","Document#delete"],"description":"<p>Deletes a field and all values. (See <a data-custom-type=\"gcloud/search/fields\" data-method=\"delete-instance\">Fields#delete</a>)</p>","source":"lib/gcloud/search/document.rb#L201","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nsearch = gcloud.search\nindex = search.index \"products\"\n\ndocument = index.document \"product-sku-000001\"\ndocument.delete \"description\""}],"params":[{"name":"name","types":["String"],"description":"The name of the field.","optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"each-instance","type":"instance","name":"each","title":["Gcloud","Search","Document#each"],"description":"<p>Calls block once for each field, passing the field name and values pair\nas parameters. If no block is given an enumerator is returned instead.\n(See <a data-custom-type=\"gcloud/search/fields\" data-method=\"each-instance\">Fields#each</a>)</p>","source":"lib/gcloud/search/document.rb#L226","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nsearch = gcloud.search\nindex = search.index \"products\"\n\ndocument = index.document \"product-sku-000001\"\nputs \"The document #{document.doc_id} has the following fields:\"\ndocument.each do |name, values|\n  puts \"* #{name}:\"\n  values.each do |value|\n    puts \"  * #{value} (#{value.type})\"\n  end\nend"}],"params":[],"exceptions":[],"returns":[]},{"id":"names-instance","type":"instance","name":"names","title":["Gcloud","Search","Document#names"],"description":"<p>Returns a new array populated with all the field names.\n(See <a data-custom-type=\"gcloud/search/fields\" data-method=\"names-instance\">Fields#names</a>)</p>","source":"lib/gcloud/search/document.rb#L247","resources":[],"examples":[{"caption":"","code":"require \"gcloud\"\n\ngcloud = Gcloud.new\nsearch = gcloud.search\nindex = search.index \"products\"\n\ndocument = index.document \"product-sku-000001\"\nputs \"The document #{document.doc_id} has the following fields:\"\ndocument.names.each do |name|\n  puts \"* #{name}:\"\nend"}],"params":[],"exceptions":[],"returns":[]}]}